{"version":3,"sources":["webpack:///node_modules/trezor-connect/lib/types/api.js","webpack:///node_modules/trezor-connect/lib/constants/cardano.js","webpack:///node_modules/trezor-connect/lib/types/events.js","webpack:///node_modules/trezor-connect/lib/types/networks/cardano.js","webpack:///node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:///node_modules/trezor-connect/lib/constants/blockchain.js","webpack:///node_modules/trezor-connect/lib/types/trezor/device.js","webpack:///node_modules/trezor-connect/lib/utils/debug.js","webpack:///node_modules/trezor-connect/lib/types/index.js","webpack:///node_modules/trezor-connect/lib/constants/ui.js","webpack:///node_modules/trezor-connect/lib/utils/deferred.js","webpack:///node_modules/trezor-connect/lib/data/ConnectSettings.js","webpack:///node_modules/trezor-connect/lib/env/browser/networkUtils.js","webpack:///node_modules/trezor-connect/node_modules/whatwg-fetch/fetch.js","webpack:///node_modules/trezor-connect/lib/constants/iframe.js","webpack:///node_modules/trezor-connect/lib/constants/errors.js","webpack:///node_modules/trezor-connect/lib/popup/PopupManager.js","webpack:///node_modules/trezor-connect/lib/popup/showPopupRequest.js","webpack:///node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack:///node_modules/trezor-connect/lib/iframe/builder.js","webpack:///node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:///node_modules/trezor-connect/lib/index.js","webpack:///node_modules/trezor-connect/lib/constants/popup.js","webpack:///node_modules/trezor-connect/lib/constants/network.js","webpack:///node_modules/trezor-connect/lib/message/index.js","webpack:///node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack:///node_modules/trezor-connect/lib/env/browser/index.js","webpack:///node_modules/trezor-connect/lib/constants/index.js","webpack:///node_modules/@babel/runtime/helpers/construct.js","webpack:///node_modules/trezor-connect/lib/webusb/button.js","webpack:///node_modules/trezor-connect/lib/constants/transport.js","webpack:///node_modules/trezor-connect/lib/constants/device.js","webpack:///node_modules/trezor-connect/lib/message/builder.js","webpack:///node_modules/trezor-connect/lib/iframe/inline-styles.js","webpack:///node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack:///node_modules/trezor-connect/lib/types/backend/blockchain.js"],"names":["_interopRequireWildcard","CONSTANTS","P","Device","Mgmnt","Protobuf","Account","Bitcoin","Binance","Cardano","CoinInfo","EOS","Ethereum","Lisk","NEM","Ripple","Stellar","Tezos","Misc","Events","Blockchain","exports","__esModule","CERTIFICATE_TYPE","ADDRESS_TYPE","NETWORK_IDS","PROTOCOL_MAGICS","Object","freeze","mainnet","testnet","Base","Pointer","Enterprise","Byron","Reward","StakeRegistration","StakeDeregistration","StakeDelegation","_constants","_cardano","_typeof","_getRequireWildcardCache","WeakMap","cache","obj","has","get","newObj","hasPropertyDescriptor","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","module","FIAT_RATES_UPDATE","NOTIFICATION","BLOCK","CONNECT","ERROR","popupConsole","enableByPrefix","getLog","enable","init","_this","colors","Log","prefix","enabled","messages","css","_proto","addMessage","level","_len","arguments","length","args","Array","_key","push","message","timestamp","Date","getTime","log","_len2","_key2","apply","concat","_console","console","error","_len3","_key3","_console2","warn","_len4","_key4","_console3","debug","_len5","_key5","_console4","_logs","enab","instance","_i","_Object$keys","keys","l","logs","_i2","_Object$keys2","sort","a","b","tag","postMessage","c","global","orig","info","inject","method","time","toUTCString","_len6","_key6","type","JSON","stringify","_api","forEach","_events","_misc","_params","_account","_device","_management","_bitcoin","_binance","_coinInfo","_eos","_ethereum","_lisk","_nem","_ripple","_stellar","_tezos","_blockchain","_transactions","IFRAME_FAILURE","ADDRESS_VALIDATION","BUNDLE_PROGRESS","LOGIN_CHALLENGE_RESPONSE","LOGIN_CHALLENGE_REQUEST","CUSTOM_MESSAGE_RESPONSE","CUSTOM_MESSAGE_REQUEST","CHANGE_SETTINGS","RECEIVE_WORD","RECEIVE_FEE","RECEIVE_ACCOUNT","CHANGE_ACCOUNT","RECEIVE_DEVICE","RECEIVE_PASSPHRASE","RECEIVE_PIN","RECEIVE_CONFIRMATION","RECEIVE_PERMISSION","REQUEST_WORD","REQUEST_BUTTON","INSUFFICIENT_FUNDS","UPDATE_CUSTOM_FEE","SELECT_FEE","SELECT_ACCOUNT","SELECT_DEVICE","SET_OPERATION","LOADING","INVALID_PASSPHRASE_ACTION","INVALID_PASSPHRASE","REQUEST_PASSPHRASE_ON_DEVICE","REQUEST_PASSPHRASE","INVALID_PIN","REQUEST_PIN","REQUEST_CONFIRMATION","REQUEST_PERMISSION","CLOSE_UI_WINDOW","REQUEST_UI_WINDOW","DEVICE_NEEDS_BACKUP","FIRMWARE_PROGRESS","FIRMWARE_NOT_INSTALLED","FIRMWARE_NOT_COMPATIBLE","FIRMWARE_NOT_SUPPORTED","FIRMWARE_OUTDATED","FIRMWARE_OLD","SEEDLESS","INITIALIZE","REQUIRE_MODE","NOT_IN_BOOTLOADER","BOOTLOADER","TRANSPORT","_interopRequireDefault","create","createAsync","resolveTimeoutPromise","rejectTimeoutPromise","_regenerator","_asyncToGenerator2","arg","device","localResolve","t","localReject","e","id","promise","Promise","_ref","mark","_callee","resolve","reject","wrap","_callee$","_context","prev","next","t0","stop","_x","_x2","innerFn","inner","_ref2","_callee2","_callee2$","_context2","run","delay","result","setTimeout","parse","corsValidator","getEnv","DEFAULT_PRIORITY","_defineProperty2","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","enumerable","_objectSpread","target","i","source","getOwnPropertyDescriptors","defineProperties","VERSION","versionN","split","map","s","parseInt","DIRECTORY","DEFAULT_DOMAIN","initialSettings","configSrc","version","priority","trustedHost","connectSrc","iframeSrc","popup","popupSrc","webusbSrc","transportReconnect","webusb","pendingTransportEvent","supportedBrowser","navigator","test","userAgent","manifest","env","lazyLoad","interactionTimeout","currentSettings","parseManifest","email","appUrl","chrome","runtime","onConnect","product","toLowerCase","indexOf","url","match","input","settings","isArray","__TREZOR_CONNECT_SRC","window","location","search","vars","customUrl","find","v","_customUrl$split","decodeURIComponent","src","protocol","origin","pathname","extension","getOrigin","httpRequest","response","txt","fetch","credentials","sent","ok","text","abrupt","arrayBuffer","Error","statusText","parts","globalThis","self","support","searchParams","iterable","Symbol","blob","Blob","formData","isDataView","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","toString","normalizeName","name","String","TypeError","normalizeValue","value","iteratorFor","items","iterator","shift","done","undefined","Headers","headers","append","header","getOwnPropertyNames","oldValue","callback","thisArg","values","entries","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","join","bufferClone","slice","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","isConsumed","byteOffset","then","decode","json","methods","normalizeMethod","upcased","toUpperCase","Request","options","mode","signal","referrer","reParamSearch","replace","reQueryString","clone","form","trim","bytes","parseHeaders","rawHeaders","preProcessedHeaders","line","Response","bodyInit","status","redirectStatuses","redirect","RangeError","DOMException","err","stack","constructor","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","fixUrl","href","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","CALL","INIT","LOADED","BOOTSTRAP","WEBUSB_ERROR_MESSAGE","INVALID_PIN_ERROR_MESSAGE","WRONG_PREVIOUS_SESSION_ERROR_MESSAGE","TypedError","TrezorError","ERROR_CODES","_inheritsLoose2","_wrapNativeSuper2","_Error","code","_assertThisInitialized2","POPUP","IFRAME","UI","_showPopupRequest","_networkUtils","_deferred","POPUP_REQUEST_TIMEOUT","POPUP_CLOSE_INTERVAL","POPUP_OPEN_TIMEOUT","PopupManager","_EventEmitter","handleMessage","bind","iframeHandshake","handleExtensionConnect","handleExtensionMessage","addListener","_this2","locked","_window","tabs","update","active","focus","openFn","timeout","requestTimeout","cancel","close","unlock","_this3","openWrapper","popupPromise","closeInterval","setInterval","tab","emit","CLOSED","closed","openTimeout","showPopupRequest","_this4","windows","getCurrent","currentWindow","newWindow","query","windowId","extensionTabId","index","port","sender","disconnect","clearTimeout","extensionPort","onMessage","_this5","data","errorMessage","payload","EXTENSION_USB_PERMISSIONS","CLOSE_WINDOW","_this6","CANCEL_POPUP_REQUEST","clearInterval","_e","lastError","remove","_postMessage","_this7","onBeforeUnload","layerID","layerInnerHtml","document","getElementById","div","createElement","className","innerHTML","appendChild","button","getElementsByClassName","onclick","removeChild","_inheritsLoose","subClass","superClass","__proto__","dispose","messagePromises","initPromise","_inlineStyles","_messageID","existedFrame","manifestString","onLoad","frameBorder","width","height","style","position","display","border","encodeURIComponent","btoa","setAttribute","ERRORS","iframeOrigin","contentWindow","handleIframeBlocked","attachEvent","injectStyleSheet","parentNode","finish","doc","ownerDocument","head","getElementsByTagName","styleSheet","cssText","createTextNode","usePromise","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","_exportNames","_node","_types","TrezorConnect","getSettings","on","fn","eventEmitter","off","removeListener","removeAllListeners","uiResponse","blockchainGetAccountBalanceHistory","params","blockchainGetCurrentFiatRates","blockchainGetFiatRatesForTimestamps","blockchainDisconnect","blockchainEstimateFee","blockchainGetTransactions","blockchainSetCustomBackend","blockchainSubscribe","blockchainSubscribeFiatRates","blockchainUnsubscribe","blockchainUnsubscribeFiatRates","customMessage","requestLogin","cardanoGetAddress","useEventListener","listenerCount","cardanoGetPublicKey","cardanoSignTransaction","cipherKeyValue","composeTransaction","debugLinkDecision","debugLinkGetState","ethereumGetAddress","ethereumGetPublicKey","ethereumSignMessage","ethereumSignTransaction","ethereumVerifyMessage","getAccountInfo","getAddress","getDeviceState","getFeatures","getPublicKey","liskGetAddress","liskGetPublicKey","liskSignMessage","liskSignTransaction","liskVerifyMessage","nemGetAddress","nemSignTransaction","pushTransaction","rippleGetAddress","rippleSignTransaction","signMessage","signTransaction","stellarGetAddress","stellarSignTransaction","tezosGetAddress","tezosGetPublicKey","tezosSignTransaction","eosGetPublicKey","eosSignTransaction","binanceGetAddress","binanceGetPublicKey","binanceSignTransaction","verifyMessage","resetDevice","wipeDevice","applyFlags","applySettings","backupDevice","changePin","firmwareUpdate","recoveryDevice","getCoinInfo","renderWebUSBButton","disableWebUSB","_default","HANDSHAKE","TYPES","parseMessage","messageData","event","success","getPrototypeOf","setPrototypeOf","isNativeFunction","_wrapNativeSuper","Class","_cache","Map","Wrapper","writable","configurable","_PopupManager","iframe","_button","_message","_builder2","_ConnectSettings","_debug","$T","_log","_settings","_popupManager","initPopupManager","pm","messageEvent","RESPONSE_EVENT","DEVICE_EVENT","TRANSPORT_EVENT","BLOCKCHAIN_EVENT","UI_EVENT","includes","UiMessage","t1","customMessageResponse","_ref3","_callee3","_callee3$","_context3","_ref4","_callee5","customMessageListener","_callee5$","_context5","_ref5","_callee4","_callee4$","_context4","_x4","_x3","_ref6","_callee7","loginChallengeListener","_callee7$","_context7","_ref7","_callee6","_callee6$","_context6","_x6","asyncChallenge","_x5","DISABLE_WEBUSB","CARDANO","NETWORK","DEVICE","BLOCKCHAIN","CORE_EVENT","isNativeReflectConstruct","_construct","Parent","Constructor","Function","render","buttons","querySelectorAll","now","bounds","getBoundingClientRect","btnIframe","Math","round","top","left","zIndex","START_PENDING","REQUEST","STREAM","UPDATE","START","UNREADABLE","WAIT_FOR_SELECTION","WORD","PASSPHRASE_ON_DEVICE","PASSPHRASE","PIN","BUTTON","USED_ELSEWHERE","RELEASED","ACQUIRED","RELEASE","ACQUIRE","CHANGED","DISCONNECT","CONNECT_UNACQUIRED","BlockchainMessage","ResponseMessage","TransportMessage","DeviceMessage","_isNativeFunction"],"mappings":"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","file":"trezor-connect-es5.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar CONSTANTS = _interopRequireWildcard(require(\"../constants\"));\n\nvar P = _interopRequireWildcard(require(\"./params\"));\n\nvar Device = _interopRequireWildcard(require(\"./trezor/device\"));\n\nvar Mgmnt = _interopRequireWildcard(require(\"./trezor/management\"));\n\nvar Protobuf = _interopRequireWildcard(require(\"./trezor/protobuf\"));\n\nvar Account = _interopRequireWildcard(require(\"./account\"));\n\nvar Bitcoin = _interopRequireWildcard(require(\"./networks/bitcoin\"));\n\nvar Binance = _interopRequireWildcard(require(\"./networks/binance\"));\n\nvar Cardano = _interopRequireWildcard(require(\"./networks/cardano\"));\n\nvar CoinInfo = _interopRequireWildcard(require(\"./networks/coinInfo\"));\n\nvar EOS = _interopRequireWildcard(require(\"./networks/eos\"));\n\nvar Ethereum = _interopRequireWildcard(require(\"./networks/ethereum\"));\n\nvar Lisk = _interopRequireWildcard(require(\"./networks/lisk\"));\n\nvar NEM = _interopRequireWildcard(require(\"./networks/nem\"));\n\nvar Ripple = _interopRequireWildcard(require(\"./networks/ripple\"));\n\nvar Stellar = _interopRequireWildcard(require(\"./networks/stellar\"));\n\nvar Tezos = _interopRequireWildcard(require(\"./networks/tezos\"));\n\nvar Misc = _interopRequireWildcard(require(\"./misc\"));\n\nvar Events = _interopRequireWildcard(require(\"./events\"));\n\nvar Blockchain = _interopRequireWildcard(require(\"./backend/blockchain\"));","\"use strict\";\n\nexports.__esModule = true;\nexports.CERTIFICATE_TYPE = exports.ADDRESS_TYPE = exports.NETWORK_IDS = exports.PROTOCOL_MAGICS = void 0;\nvar PROTOCOL_MAGICS = Object.freeze({\n  mainnet: 764824073,\n  testnet: 42\n});\nexports.PROTOCOL_MAGICS = PROTOCOL_MAGICS;\nvar NETWORK_IDS = Object.freeze({\n  mainnet: 1,\n  testnet: 0\n});\nexports.NETWORK_IDS = NETWORK_IDS;\nvar ADDRESS_TYPE = Object.freeze({\n  Base: 0,\n  Pointer: 4,\n  Enterprise: 6,\n  Byron: 8,\n  Reward: 14\n});\nexports.ADDRESS_TYPE = ADDRESS_TYPE;\nvar CERTIFICATE_TYPE = Object.freeze({\n  StakeRegistration: 0,\n  StakeDeregistration: 1,\n  StakeDelegation: 2\n});\nexports.CERTIFICATE_TYPE = CERTIFICATE_TYPE;","\"use strict\";\n\nvar _constants = require(\"../constants\");","\"use strict\";\n\nvar _cardano = require(\"../../constants/cardano\");","var _typeof = require(\"../helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","\"use strict\";\n\nexports.__esModule = true;\nexports.FIAT_RATES_UPDATE = exports.NOTIFICATION = exports.BLOCK = exports.CONNECT = exports.ERROR = void 0;\n// blockchain events\nvar ERROR = 'blockchain-error';\nexports.ERROR = ERROR;\nvar CONNECT = 'blockchain-connect';\nexports.CONNECT = CONNECT;\nvar BLOCK = 'blockchain-block';\nexports.BLOCK = BLOCK;\nvar NOTIFICATION = 'blockchain-notification';\nexports.NOTIFICATION = NOTIFICATION;\nvar FIAT_RATES_UPDATE = 'fiat-rates-update';\nexports.FIAT_RATES_UPDATE = FIAT_RATES_UPDATE;","\"use strict\";\n\nvar _constants = require(\"../../constants\");","\"use strict\";\n\nexports.__esModule = true;\nexports.popupConsole = exports.enableByPrefix = exports.getLog = exports.enable = exports.init = exports[\"default\"] = void 0;\n\nvar _this = void 0;\n\n// https://stackoverflow.com/questions/7505623/colors-in-javascript-console\n// https://github.com/pimterry/loglevel/blob/master/lib/loglevel.js\n// http://www.color-hex.com/color-palette/5016\nvar colors = {\n  // green\n  'DescriptorStream': 'color: #77ab59',\n  'DeviceList': 'color: #36802d',\n  'Device': 'color: #bada55',\n  'Core': 'color: #c9df8a',\n  'IFrame': 'color: #FFFFFF; background: #f4a742;',\n  'Popup': 'color: #f48a00'\n};\n\nvar Log = /*#__PURE__*/function () {\n  function Log(prefix, enabled) {\n    if (enabled === void 0) {\n      enabled = false;\n    }\n\n    this.prefix = prefix;\n    this.enabled = enabled;\n    this.messages = [];\n    this.css = colors[prefix] || 'color: #000000; background: #FFFFFF;';\n  }\n\n  var _proto = Log.prototype;\n\n  _proto.addMessage = function addMessage(level, prefix) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    this.messages.push({\n      level: level,\n      prefix: prefix,\n      message: args,\n      timestamp: new Date().getTime()\n    });\n  };\n\n  _proto.log = function log() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    this.addMessage.apply(this, ['log', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console;\n\n      (_console = console).log.apply(_console, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.error = function error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    this.addMessage.apply(this, ['error', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console2;\n\n      (_console2 = console).error.apply(_console2, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.warn = function warn() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    this.addMessage.apply(this, ['warn', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console3;\n\n      (_console3 = console).warn.apply(_console3, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.debug = function debug() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    this.addMessage.apply(this, ['debug', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console4;\n\n      (_console4 = console).log.apply(_console4, ['%c' + this.prefix, this.css].concat(args));\n    }\n  };\n\n  return Log;\n}();\n\nexports[\"default\"] = Log;\nvar _logs = {};\n\nvar init = function init(prefix, enabled) {\n  var enab = typeof enabled === 'boolean' ? enabled : false;\n  var instance = new Log(prefix, enab);\n  _logs[prefix] = instance;\n  return instance;\n};\n\nexports.init = init;\n\nvar enable = function enable(enabled) {\n  for (var _i = 0, _Object$keys = Object.keys(_logs); _i < _Object$keys.length; _i++) {\n    var l = _Object$keys[_i];\n    _logs[l].enabled = enabled;\n  }\n};\n\nexports.enable = enable;\n\nvar getLog = function getLog(args) {\n  // if\n  var logs = [];\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(_logs); _i2 < _Object$keys2.length; _i2++) {\n    var l = _Object$keys2[_i2];\n    logs = logs.concat(_logs[l].messages);\n  }\n\n  logs.sort(function (a, b) {\n    return a.timestamp - b.timestamp;\n  });\n  return logs;\n};\n\nexports.getLog = getLog;\n\nvar enableByPrefix = function enableByPrefix(prefix, enabled) {\n  if (_logs[prefix]) {\n    _logs[prefix].enabled = enabled;\n  }\n}; // TODO: enable/disable log at runtime\n\n\nexports.enableByPrefix = enableByPrefix;\n\nvar popupConsole = function popupConsole(tag, postMessage) {\n  var c = global.console;\n  var orig = {\n    error: c.error,\n    // warn: c.warn,\n    info: c.info,\n    debug: c.debug,\n    log: c.log\n  };\n  var log = [];\n\n  var inject = function inject(method, level) {\n    return function () {\n      // args.unshift('[popup.js]');\n      var time = new Date().toUTCString();\n\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      log.push([level, time].concat(args));\n      postMessage.apply(_this, [{\n        type: tag,\n        level: level,\n        time: time,\n        args: JSON.stringify(args)\n      } // { type: 'LOG', level: level, time: time, args: JSON.stringify(deepClone(args)) }\n      ]);\n      return method.apply(c, args);\n    };\n  };\n\n  for (var level in orig) {\n    c[level] = inject(orig[level], level);\n  }\n};\n\nexports.popupConsole = popupConsole;","\"use strict\";\n\nexports.__esModule = true;\n\nvar _api = require(\"./api\");\n\nObject.keys(_api).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _api[key];\n});\n\nvar _events = require(\"./events\");\n\nObject.keys(_events).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _events[key];\n});\n\nvar _misc = require(\"./misc\");\n\nObject.keys(_misc).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _misc[key];\n});\n\nvar _params = require(\"./params\");\n\nObject.keys(_params).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _params[key];\n});\n\nvar _account = require(\"./account\");\n\nObject.keys(_account).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _account[key];\n});\n\nvar _device = require(\"./trezor/device\");\n\nObject.keys(_device).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _device[key];\n});\n\nvar _management = require(\"./trezor/management\");\n\nObject.keys(_management).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _management[key];\n});\n\nvar _bitcoin = require(\"./networks/bitcoin\");\n\nObject.keys(_bitcoin).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _bitcoin[key];\n});\n\nvar _binance = require(\"./networks/binance\");\n\nObject.keys(_binance).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _binance[key];\n});\n\nvar _cardano = require(\"./networks/cardano\");\n\nObject.keys(_cardano).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _cardano[key];\n});\n\nvar _coinInfo = require(\"./networks/coinInfo\");\n\nObject.keys(_coinInfo).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _coinInfo[key];\n});\n\nvar _eos = require(\"./networks/eos\");\n\nObject.keys(_eos).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _eos[key];\n});\n\nvar _ethereum = require(\"./networks/ethereum\");\n\nObject.keys(_ethereum).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _ethereum[key];\n});\n\nvar _lisk = require(\"./networks/lisk\");\n\nObject.keys(_lisk).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _lisk[key];\n});\n\nvar _nem = require(\"./networks/nem\");\n\nObject.keys(_nem).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _nem[key];\n});\n\nvar _ripple = require(\"./networks/ripple\");\n\nObject.keys(_ripple).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _ripple[key];\n});\n\nvar _stellar = require(\"./networks/stellar\");\n\nObject.keys(_stellar).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _stellar[key];\n});\n\nvar _tezos = require(\"./networks/tezos\");\n\nObject.keys(_tezos).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _tezos[key];\n});\n\nvar _blockchain = require(\"./backend/blockchain\");\n\nObject.keys(_blockchain).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _blockchain[key];\n});\n\nvar _transactions = require(\"./backend/transactions\");\n\nObject.keys(_transactions).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  exports[key] = _transactions[key];\n});","\"use strict\";\n\nexports.__esModule = true;\nexports.IFRAME_FAILURE = exports.ADDRESS_VALIDATION = exports.BUNDLE_PROGRESS = exports.LOGIN_CHALLENGE_RESPONSE = exports.LOGIN_CHALLENGE_REQUEST = exports.CUSTOM_MESSAGE_RESPONSE = exports.CUSTOM_MESSAGE_REQUEST = exports.CHANGE_SETTINGS = exports.RECEIVE_WORD = exports.RECEIVE_FEE = exports.RECEIVE_ACCOUNT = exports.CHANGE_ACCOUNT = exports.RECEIVE_DEVICE = exports.RECEIVE_PASSPHRASE = exports.RECEIVE_PIN = exports.RECEIVE_CONFIRMATION = exports.RECEIVE_PERMISSION = exports.REQUEST_WORD = exports.REQUEST_BUTTON = exports.INSUFFICIENT_FUNDS = exports.UPDATE_CUSTOM_FEE = exports.SELECT_FEE = exports.SELECT_ACCOUNT = exports.SELECT_DEVICE = exports.SET_OPERATION = exports.LOADING = exports.CONNECT = exports.INVALID_PASSPHRASE_ACTION = exports.INVALID_PASSPHRASE = exports.REQUEST_PASSPHRASE_ON_DEVICE = exports.REQUEST_PASSPHRASE = exports.INVALID_PIN = exports.REQUEST_PIN = exports.REQUEST_CONFIRMATION = exports.REQUEST_PERMISSION = exports.CLOSE_UI_WINDOW = exports.REQUEST_UI_WINDOW = exports.DEVICE_NEEDS_BACKUP = exports.FIRMWARE_PROGRESS = exports.FIRMWARE_NOT_INSTALLED = exports.FIRMWARE_NOT_COMPATIBLE = exports.FIRMWARE_NOT_SUPPORTED = exports.FIRMWARE_OUTDATED = exports.FIRMWARE_OLD = exports.SEEDLESS = exports.INITIALIZE = exports.REQUIRE_MODE = exports.NOT_IN_BOOTLOADER = exports.BOOTLOADER = exports.TRANSPORT = void 0;\nvar TRANSPORT = 'ui-no_transport';\nexports.TRANSPORT = TRANSPORT;\nvar BOOTLOADER = 'ui-device_bootloader_mode';\nexports.BOOTLOADER = BOOTLOADER;\nvar NOT_IN_BOOTLOADER = 'ui-device_not_in_bootloader_mode';\nexports.NOT_IN_BOOTLOADER = NOT_IN_BOOTLOADER;\nvar REQUIRE_MODE = 'ui-device_require_mode';\nexports.REQUIRE_MODE = REQUIRE_MODE;\nvar INITIALIZE = 'ui-device_not_initialized';\nexports.INITIALIZE = INITIALIZE;\nvar SEEDLESS = 'ui-device_seedless';\nexports.SEEDLESS = SEEDLESS;\nvar FIRMWARE_OLD = 'ui-device_firmware_old';\nexports.FIRMWARE_OLD = FIRMWARE_OLD;\nvar FIRMWARE_OUTDATED = 'ui-device_firmware_outdated';\nexports.FIRMWARE_OUTDATED = FIRMWARE_OUTDATED;\nvar FIRMWARE_NOT_SUPPORTED = 'ui-device_firmware_unsupported';\nexports.FIRMWARE_NOT_SUPPORTED = FIRMWARE_NOT_SUPPORTED;\nvar FIRMWARE_NOT_COMPATIBLE = 'ui-device_firmware_not_compatible';\nexports.FIRMWARE_NOT_COMPATIBLE = FIRMWARE_NOT_COMPATIBLE;\nvar FIRMWARE_NOT_INSTALLED = 'ui-device_firmware_not_installed';\nexports.FIRMWARE_NOT_INSTALLED = FIRMWARE_NOT_INSTALLED;\nvar FIRMWARE_PROGRESS = 'ui-firmware-progress';\nexports.FIRMWARE_PROGRESS = FIRMWARE_PROGRESS;\nvar DEVICE_NEEDS_BACKUP = 'ui-device_needs_backup';\nexports.DEVICE_NEEDS_BACKUP = DEVICE_NEEDS_BACKUP;\nvar REQUEST_UI_WINDOW = 'ui-request_window';\nexports.REQUEST_UI_WINDOW = REQUEST_UI_WINDOW;\nvar CLOSE_UI_WINDOW = 'ui-close_window';\nexports.CLOSE_UI_WINDOW = CLOSE_UI_WINDOW;\nvar REQUEST_PERMISSION = 'ui-request_permission';\nexports.REQUEST_PERMISSION = REQUEST_PERMISSION;\nvar REQUEST_CONFIRMATION = 'ui-request_confirmation';\nexports.REQUEST_CONFIRMATION = REQUEST_CONFIRMATION;\nvar REQUEST_PIN = 'ui-request_pin';\nexports.REQUEST_PIN = REQUEST_PIN;\nvar INVALID_PIN = 'ui-invalid_pin';\nexports.INVALID_PIN = INVALID_PIN;\nvar REQUEST_PASSPHRASE = 'ui-request_passphrase';\nexports.REQUEST_PASSPHRASE = REQUEST_PASSPHRASE;\nvar REQUEST_PASSPHRASE_ON_DEVICE = 'ui-request_passphrase_on_device';\nexports.REQUEST_PASSPHRASE_ON_DEVICE = REQUEST_PASSPHRASE_ON_DEVICE;\nvar INVALID_PASSPHRASE = 'ui-invalid_passphrase';\nexports.INVALID_PASSPHRASE = INVALID_PASSPHRASE;\nvar INVALID_PASSPHRASE_ACTION = 'ui-invalid_passphrase_action';\nexports.INVALID_PASSPHRASE_ACTION = INVALID_PASSPHRASE_ACTION;\nvar CONNECT = 'ui-connect';\nexports.CONNECT = CONNECT;\nvar LOADING = 'ui-loading';\nexports.LOADING = LOADING;\nvar SET_OPERATION = 'ui-set_operation';\nexports.SET_OPERATION = SET_OPERATION;\nvar SELECT_DEVICE = 'ui-select_device';\nexports.SELECT_DEVICE = SELECT_DEVICE;\nvar SELECT_ACCOUNT = 'ui-select_account';\nexports.SELECT_ACCOUNT = SELECT_ACCOUNT;\nvar SELECT_FEE = 'ui-select_fee';\nexports.SELECT_FEE = SELECT_FEE;\nvar UPDATE_CUSTOM_FEE = 'ui-update_custom_fee';\nexports.UPDATE_CUSTOM_FEE = UPDATE_CUSTOM_FEE;\nvar INSUFFICIENT_FUNDS = 'ui-insufficient_funds';\nexports.INSUFFICIENT_FUNDS = INSUFFICIENT_FUNDS;\nvar REQUEST_BUTTON = 'ui-button';\nexports.REQUEST_BUTTON = REQUEST_BUTTON;\nvar REQUEST_WORD = 'ui-request_word';\nexports.REQUEST_WORD = REQUEST_WORD;\nvar RECEIVE_PERMISSION = 'ui-receive_permission';\nexports.RECEIVE_PERMISSION = RECEIVE_PERMISSION;\nvar RECEIVE_CONFIRMATION = 'ui-receive_confirmation';\nexports.RECEIVE_CONFIRMATION = RECEIVE_CONFIRMATION;\nvar RECEIVE_PIN = 'ui-receive_pin';\nexports.RECEIVE_PIN = RECEIVE_PIN;\nvar RECEIVE_PASSPHRASE = 'ui-receive_passphrase';\nexports.RECEIVE_PASSPHRASE = RECEIVE_PASSPHRASE;\nvar RECEIVE_DEVICE = 'ui-receive_device';\nexports.RECEIVE_DEVICE = RECEIVE_DEVICE;\nvar CHANGE_ACCOUNT = 'ui-change_account';\nexports.CHANGE_ACCOUNT = CHANGE_ACCOUNT;\nvar RECEIVE_ACCOUNT = 'ui-receive_account';\nexports.RECEIVE_ACCOUNT = RECEIVE_ACCOUNT;\nvar RECEIVE_FEE = 'ui-receive_fee';\nexports.RECEIVE_FEE = RECEIVE_FEE;\nvar RECEIVE_WORD = 'ui-receive_word';\nexports.RECEIVE_WORD = RECEIVE_WORD;\nvar CHANGE_SETTINGS = 'ui-change_settings';\nexports.CHANGE_SETTINGS = CHANGE_SETTINGS;\nvar CUSTOM_MESSAGE_REQUEST = 'ui-custom_request';\nexports.CUSTOM_MESSAGE_REQUEST = CUSTOM_MESSAGE_REQUEST;\nvar CUSTOM_MESSAGE_RESPONSE = 'ui-custom_response';\nexports.CUSTOM_MESSAGE_RESPONSE = CUSTOM_MESSAGE_RESPONSE;\nvar LOGIN_CHALLENGE_REQUEST = 'ui-login_challenge_request';\nexports.LOGIN_CHALLENGE_REQUEST = LOGIN_CHALLENGE_REQUEST;\nvar LOGIN_CHALLENGE_RESPONSE = 'ui-login_challenge_response';\nexports.LOGIN_CHALLENGE_RESPONSE = LOGIN_CHALLENGE_RESPONSE;\nvar BUNDLE_PROGRESS = 'ui-bundle_progress';\nexports.BUNDLE_PROGRESS = BUNDLE_PROGRESS;\nvar ADDRESS_VALIDATION = 'ui-address_validation';\nexports.ADDRESS_VALIDATION = ADDRESS_VALIDATION;\nvar IFRAME_FAILURE = 'ui-iframe_failure';\nexports.IFRAME_FAILURE = IFRAME_FAILURE;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.create = create;\nexports.createAsync = createAsync;\nexports.resolveTimeoutPromise = resolveTimeoutPromise;\nexports.rejectTimeoutPromise = rejectTimeoutPromise;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nfunction create(arg, device) {\n  var localResolve = function localResolve(t) {};\n\n  var localReject = function localReject(e) {};\n\n  var id; // eslint-disable-next-line no-async-promise-executor\n\n  var promise = new Promise( /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(resolve, reject) {\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              localResolve = resolve;\n              localReject = reject;\n\n              if (!(typeof arg === 'function')) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.prev = 3;\n              _context.next = 6;\n              return arg();\n\n            case 6:\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](3);\n              reject(_context.t0);\n\n            case 11:\n              if (typeof arg === 'string') id = arg;\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 8]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return {\n    id: id,\n    device: device,\n    resolve: localResolve,\n    reject: localReject,\n    promise: promise\n  };\n}\n\nfunction createAsync(innerFn) {\n  var localResolve = function localResolve(t) {};\n\n  var localReject = function localReject(e) {};\n\n  var promise = new Promise(function (resolve, reject) {\n    localResolve = resolve;\n    localReject = reject;\n  });\n\n  var inner = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return innerFn();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function inner() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return {\n    resolve: localResolve,\n    reject: localReject,\n    promise: promise,\n    run: function run() {\n      inner();\n      return promise;\n    }\n  };\n}\n\nfunction resolveTimeoutPromise(delay, result) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      resolve(result);\n    }, delay);\n  });\n}\n\nfunction rejectTimeoutPromise(delay, error) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      reject(error);\n    }, delay);\n  });\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.parse = exports.corsValidator = exports.getEnv = exports.DEFAULT_PRIORITY = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/*\n * Initial settings for connect.\n * It could be changed by passing values into TrezorConnect.init(...) method\n */\nvar VERSION = '8.1.16';\nvar versionN = VERSION.split('.').map(function (s) {\n  return parseInt(s);\n}); // const DIRECTORY = `${ versionN[0] }${ (versionN[1] > 0 ? `.${versionN[1]}` : '') }/`;\n\nvar DIRECTORY = versionN[0] + \"/\";\nvar DEFAULT_DOMAIN = \"https://connect.trezor.io/\" + DIRECTORY;\nvar DEFAULT_PRIORITY = 2;\nexports.DEFAULT_PRIORITY = DEFAULT_PRIORITY;\nvar initialSettings = {\n  configSrc: './data/config.json',\n  // constant\n  version: VERSION,\n  // constant\n  debug: false,\n  priority: DEFAULT_PRIORITY,\n  trustedHost: false,\n  connectSrc: DEFAULT_DOMAIN,\n  iframeSrc: DEFAULT_DOMAIN + \"iframe.html\",\n  popup: true,\n  popupSrc: DEFAULT_DOMAIN + \"popup.html\",\n  webusbSrc: DEFAULT_DOMAIN + \"webusb.html\",\n  transportReconnect: false,\n  webusb: true,\n  pendingTransportEvent: true,\n  supportedBrowser: typeof navigator !== 'undefined' ? !/Trident|MSIE|Edge/.test(navigator.userAgent) : true,\n  manifest: null,\n  env: 'web',\n  lazyLoad: false,\n  timestamp: new Date().getTime(),\n  interactionTimeout: 600 // 5 minutes\n\n};\nvar currentSettings = initialSettings;\n\nvar parseManifest = function parseManifest(manifest) {\n  if (!manifest) return;\n  if (typeof manifest.email !== 'string') return;\n  if (typeof manifest.appUrl !== 'string') return;\n  return {\n    email: manifest.email,\n    appUrl: manifest.appUrl\n  };\n};\n\nvar getEnv = function getEnv() {\n  // $FlowIssue: chrome is not declared outside the project\n  if (typeof chrome !== 'undefined' && chrome.runtime && typeof chrome.runtime.onConnect !== 'undefined') {\n    return 'webextension';\n  }\n\n  if (typeof navigator !== 'undefined') {\n    if (typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative') {\n      return 'react-native';\n    }\n\n    var userAgent = navigator.userAgent.toLowerCase();\n\n    if (userAgent.indexOf(' electron/') > -1) {\n      return 'electron';\n    }\n  } // if (typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative') {\n  //     return 'react-native';\n  // }\n  // if (typeof process !== 'undefined' && process.versions.hasOwnProperty('electron')) {\n  //     return 'electron';\n  // }\n\n\n  return 'web';\n}; // Cors validation copied from Trezor Bridge\n// see: https://github.com/trezor/trezord-go/blob/05991cea5900d18bcc6ece5ae5e319d138fc5551/server/api/api.go#L229\n// Its pointless to allow `trezor-connect` endpoints { connectSrc } for domains other than listed below\n// `trezord` will block communication anyway\n\n\nexports.getEnv = getEnv;\n\nvar corsValidator = function corsValidator(url) {\n  if (typeof url !== 'string') return;\n  if (url.match(/^https:\\/\\/([A-Za-z0-9\\-_]+\\.)*trezor\\.io\\//)) return url;\n  if (url.match(/^https?:\\/\\/localhost:[58][0-9]{3}\\//)) return url;\n  if (url.match(/^https:\\/\\/([A-Za-z0-9\\-_]+\\.)*sldev\\.cz\\//)) return url;\n  if (url.match(/^https?:\\/\\/([A-Za-z0-9\\-_]+\\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\\.onion\\//)) return url;\n};\n\nexports.corsValidator = corsValidator;\n\nvar parse = function parse(input) {\n  if (input === void 0) {\n    input = {};\n  }\n\n  var settings = _objectSpread({}, currentSettings);\n\n  if (Object.prototype.hasOwnProperty.call(input, 'debug')) {\n    if (Array.isArray(input)) {// enable log with prefix\n    }\n\n    if (typeof input.debug === 'boolean') {\n      settings.debug = input.debug;\n    } else if (typeof input.debug === 'string') {\n      settings.debug = input.debug === 'true';\n    }\n  }\n\n  if (typeof input.connectSrc === 'string') {\n    settings.connectSrc = input.connectSrc;\n  } // For debugging purposes `connectSrc` could be defined in `global.__TREZOR_CONNECT_SRC` variable\n\n\n  if (typeof global !== 'undefined' && typeof global.__TREZOR_CONNECT_SRC === 'string') {\n    settings.connectSrc = corsValidator(global.__TREZOR_CONNECT_SRC);\n    settings.debug = true;\n  } // For debugging purposes `connectSrc` could be defined in url query of hosting page. Usage:\n  // https://3rdparty-page.com/?trezor-connect-src=https://localhost:8088/\n\n\n  if (typeof window !== 'undefined' && window.location && typeof window.location.search === 'string') {\n    var vars = window.location.search.split('&');\n    var customUrl = vars.find(function (v) {\n      return v.indexOf('trezor-connect-src') >= 0;\n    });\n\n    if (customUrl) {\n      var _customUrl$split = customUrl.split('='),\n          connectSrc = _customUrl$split[1];\n\n      settings.connectSrc = corsValidator(decodeURIComponent(connectSrc));\n      settings.debug = true;\n    }\n  }\n\n  var src = settings.connectSrc || DEFAULT_DOMAIN;\n  settings.iframeSrc = src + \"iframe.html\";\n  settings.popupSrc = src + \"popup.html\";\n  settings.webusbSrc = src + \"webusb.html\";\n\n  if (typeof input.transportReconnect === 'boolean') {\n    settings.transportReconnect = input.transportReconnect;\n  }\n\n  if (typeof input.webusb === 'boolean') {\n    settings.webusb = input.webusb;\n  }\n\n  if (typeof input.popup === 'boolean') {\n    settings.popup = input.popup;\n  }\n\n  if (typeof input.lazyLoad === 'boolean') {\n    settings.lazyLoad = input.lazyLoad;\n  }\n\n  if (typeof input.pendingTransportEvent === 'boolean') {\n    settings.pendingTransportEvent = input.pendingTransportEvent;\n  } // local files\n\n\n  if (typeof window !== 'undefined' && window.location && window.location.protocol === 'file:') {\n    settings.origin = \"file://\" + window.location.pathname;\n    settings.webusb = false;\n  }\n\n  if (typeof input.extension === 'string') {\n    settings.extension = input.extension;\n  }\n\n  if (typeof input.env === 'string') {\n    settings.env = input.env;\n  } else {\n    settings.env = getEnv();\n  }\n\n  if (typeof input.timestamp === 'number') {\n    settings.timestamp = input.timestamp;\n  }\n\n  if (typeof input.interactionTimeout === 'number') {\n    settings.interactionTimeout = input.interactionTimeout;\n  }\n\n  if (typeof input.manifest === 'object') {\n    settings.manifest = parseManifest(input.manifest);\n  }\n\n  currentSettings = settings;\n  return currentSettings;\n};\n\nexports.parse = parse;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.getOrigin = exports.httpRequest = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nrequire(\"whatwg-fetch\");\n\nvar httpRequest = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(url, type) {\n    var response, txt;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (type === void 0) {\n              type = 'text';\n            }\n\n            _context.next = 3;\n            return fetch(url, {\n              credentials: 'same-origin'\n            });\n\n          case 3:\n            response = _context.sent;\n\n            if (!response.ok) {\n              _context.next = 23;\n              break;\n            }\n\n            if (!(type === 'json')) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 8;\n            return response.text();\n\n          case 8:\n            txt = _context.sent;\n            return _context.abrupt(\"return\", JSON.parse(txt));\n\n          case 12:\n            if (!(type === 'binary')) {\n              _context.next = 18;\n              break;\n            }\n\n            _context.next = 15;\n            return response.arrayBuffer();\n\n          case 15:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 18:\n            _context.next = 20;\n            return response.text();\n\n          case 20:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 21:\n            _context.next = 24;\n            break;\n\n          case 23:\n            throw new Error(\"httpRequest error: \" + url + \" \" + response.statusText);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function httpRequest(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.httpRequest = httpRequest;\n\nvar getOrigin = function getOrigin(url) {\n  if (url.indexOf('file://') === 0) return 'file://'; // eslint-disable-next-line no-irregular-whitespace, no-useless-escape\n\n  var parts = url.match(/^.+\\:\\/\\/[^\\/]+/);\n  return Array.isArray(parts) && parts.length > 0 ? parts[0] : 'unknown';\n};\n\nexports.getOrigin = getOrigin;","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : ''\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports.CALL = exports.ERROR = exports.INIT = exports.LOADED = exports.BOOTSTRAP = void 0;\n// Message called from iframe.html inline script before \"window.onload\" event. This is first message from iframe to window.opener.\nvar BOOTSTRAP = 'iframe-bootstrap'; // Message from iframe.js to window.opener, called after \"window.onload\" event. This is second message from iframe to window.opener.\n\nexports.BOOTSTRAP = BOOTSTRAP;\nvar LOADED = 'iframe-loaded'; // Message from window.opener to iframe.js\n\nexports.LOADED = LOADED;\nvar INIT = 'iframe-init'; // Error message from iframe.js to window.opener. Could be thrown during iframe initialization process\n\nexports.INIT = INIT;\nvar ERROR = 'iframe-error'; // Message from window.opener to iframe. Call method\n\nexports.ERROR = ERROR;\nvar CALL = 'iframe-call';\nexports.CALL = CALL;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.WEBUSB_ERROR_MESSAGE = exports.INVALID_PIN_ERROR_MESSAGE = exports.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE = exports.TypedError = exports.TrezorError = exports.ERROR_CODES = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapNativeSuper\"));\n\nvar ERROR_CODES = {\n  'Init_NotInitialized': 'TrezorConnect not yet initialized',\n  // race condition: call on not initialized Core (usually hot-reloading)\n  'Init_AlreadyInitialized': 'TrezorConnect has been already initialized',\n  // thrown by .init called multiple times\n  'Init_IframeBlocked': 'Iframe blocked',\n  // iframe injection blocked (ad-blocker)\n  'Init_IframeTimeout': 'Iframe timeout',\n  // iframe didn't load in specified time\n  'Init_ManifestMissing': 'Manifest not set. Read more at https://github.com/trezor/connect/blob/develop/docs/index.md',\n  // manifest is not set\n  'Popup_ConnectionMissing': 'Unable to establish connection with iframe',\n  // thrown by popup\n  'Transport_Missing': 'Transport is missing',\n  // no transport available\n  'Transport_InvalidProtobuf': '',\n  // generic error from transport layer (trezor-link)\n  'Method_InvalidPackage': 'This version of trezor-connect is not suitable to work without browser. Use trezor-connect@extended package instead',\n  // thrown by node and react-native env while using regular 'web' package\n  'Method_InvalidParameter': '',\n  // replaced by generic text\n  'Method_NotAllowed': 'Method not allowed for this configuration',\n  // example: device management in popup mode\n  'Method_PermissionsNotGranted': 'Permissions not granted',\n  // permission/confirmation not granted in popup\n  'Method_Cancel': 'Cancelled',\n  // permission/confirmation not granted in popup OR .cancel() custom error\n  'Method_Interrupted': 'Popup closed',\n  // interruption: popup closed\n  'Method_UnknownCoin': 'Coin not found',\n  // coin definition not found\n  'Method_AddressNotMatch': 'Addresses do not match',\n  // thrown by all getAddress methods with custom UI validation\n  'Method_FirmwareUpdate_DownloadFailed': 'Failed to download firmware binary',\n  // thrown by FirmwareUpdate method\n  'Method_CustomMessage_Callback': 'Parameter \"callback\" is not a function',\n  // thrown by CustomMessage method\n  'Method_Discovery_BundleException': '',\n  // thrown by getAccountInfo method\n  'Method_Override': 'override',\n  // inner \"error\", it's more like a interruption\n  'Method_NoResponse': 'Call resolved without response',\n  // thrown by npm index(es), call to Core resolved without response, should not happen\n  'Backend_NotSupported': 'BlockchainLink settings not found in coins.json',\n  // thrown by methods which using backends, blockchainLink not defined for this coin\n  'Backend_WorkerMissing': '',\n  // thrown by BlockchainLink class, worker not specified\n  'Backend_Disconnected': 'Backend disconnected',\n  // thrown by BlockchainLink class\n  'Backend_Invalid': 'Invalid backend',\n  // thrown by BlockchainLink class, invalid backend (ie: backend for wrong coin set)\n  'Backend_Error': '',\n  // thrown by BlockchainLink class, generic message from 'blockchain-link'\n  'Runtime': '',\n  // thrown from several places, this shouldn't ever happen tho\n  'Device_NotFound': 'Device not found',\n  'Device_InitializeFailed': '',\n  // generic error from firmware while calling \"Initialize\" message\n  'Device_FwException': '',\n  // generic FirmwareException type\n  'Device_ModeException': '',\n  // generic Device.UnexpectedMode type\n  'Device_Disconnected': 'Device disconnected',\n  // device disconnected during call\n  'Device_UsedElsewhere': 'Device is used in another window',\n  // interruption: current session toked by other application\n  'Device_InvalidState': 'Passphrase is incorrect',\n  // authorization error (device state comparison)\n  'Device_CallInProgress': 'Device call in progress' // thrown when trying to make another call while current is still running\n\n};\nexports.ERROR_CODES = ERROR_CODES;\n\nvar TrezorError = /*#__PURE__*/function (_Error) {\n  (0, _inheritsLoose2[\"default\"])(TrezorError, _Error);\n\n  function TrezorError(code, message) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.message = message;\n    return _this;\n  }\n\n  return TrezorError;\n}( /*#__PURE__*/(0, _wrapNativeSuper2[\"default\"])(Error));\n\nexports.TrezorError = TrezorError;\n\nvar TypedError = function TypedError(id, message) {\n  return new TrezorError(id, message || ERROR_CODES[id]);\n}; // a slight hack\n// this error string is hard-coded\n// in both bridge and extension\n\n\nexports.TypedError = TypedError;\nvar WRONG_PREVIOUS_SESSION_ERROR_MESSAGE = 'wrong previous session';\nexports.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE = WRONG_PREVIOUS_SESSION_ERROR_MESSAGE;\nvar INVALID_PIN_ERROR_MESSAGE = 'PIN invalid';\nexports.INVALID_PIN_ERROR_MESSAGE = INVALID_PIN_ERROR_MESSAGE;\nvar WEBUSB_ERROR_MESSAGE = 'NetworkError: Unable to claim interface.';\nexports.WEBUSB_ERROR_MESSAGE = WEBUSB_ERROR_MESSAGE;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar POPUP = _interopRequireWildcard(require(\"../constants/popup\"));\n\nvar IFRAME = _interopRequireWildcard(require(\"../constants/iframe\"));\n\nvar UI = _interopRequireWildcard(require(\"../constants/ui\"));\n\nvar _showPopupRequest = require(\"./showPopupRequest\");\n\nvar _networkUtils = require(\"../env/browser/networkUtils\");\n\nvar _deferred = require(\"../utils/deferred\");\n\n// const POPUP_REQUEST_TIMEOUT: number = 602;\nvar POPUP_REQUEST_TIMEOUT = 850;\nvar POPUP_CLOSE_INTERVAL = 500;\nvar POPUP_OPEN_TIMEOUT = 3000;\n\nvar PopupManager = /*#__PURE__*/function (_EventEmitter) {\n  (0, _inheritsLoose2[\"default\"])(PopupManager, _EventEmitter);\n\n  // Window\n  function PopupManager(settings) {\n    var _this;\n\n    _this = _EventEmitter.call(this) || this;\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"requestTimeout\", 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"closeInterval\", 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"extensionTabId\", 0);\n    _this.settings = settings;\n    _this.origin = (0, _networkUtils.getOrigin)(settings.popupSrc);\n    _this.handleMessage = _this.handleMessage.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.iframeHandshake = (0, _deferred.create)(IFRAME.LOADED);\n\n    if (_this.settings.env === 'webextension') {\n      _this.handleExtensionConnect = _this.handleExtensionConnect.bind((0, _assertThisInitialized2[\"default\"])(_this));\n      _this.handleExtensionMessage = _this.handleExtensionMessage.bind((0, _assertThisInitialized2[\"default\"])(_this)); // $FlowIssue chrome not declared outside\n\n      chrome.runtime.onConnect.addListener(_this.handleExtensionConnect);\n    }\n\n    window.addEventListener('message', _this.handleMessage, false);\n    return _this;\n  }\n\n  var _proto = PopupManager.prototype;\n\n  _proto.request = function request(lazyLoad) {\n    var _this2 = this;\n\n    if (lazyLoad === void 0) {\n      lazyLoad = false;\n    }\n\n    // popup request\n    // TODO: ie - open immediately and hide it but post handshake after timeout\n    // bring popup window to front\n    if (this.locked) {\n      if (this._window) {\n        if (this.settings.env === 'webextension') {\n          // $FlowIssue chrome not declared outside\n          chrome.tabs.update(this._window.id, {\n            active: true\n          });\n        } else {\n          this._window.focus();\n        }\n      }\n\n      return;\n    }\n\n    var openFn = this.open.bind(this);\n    this.locked = true;\n\n    if (!this.settings.supportedBrowser) {\n      openFn();\n    } else {\n      var timeout = lazyLoad || this.settings.env === 'webextension' ? 1 : POPUP_REQUEST_TIMEOUT;\n      this.requestTimeout = window.setTimeout(function () {\n        _this2.requestTimeout = 0;\n        openFn(lazyLoad);\n      }, timeout);\n    }\n  };\n\n  _proto.cancel = function cancel() {\n    this.close();\n  };\n\n  _proto.unlock = function unlock() {\n    this.locked = false;\n  };\n\n  _proto.open = function open(lazyLoad) {\n    var _this3 = this;\n\n    var src = this.settings.popupSrc;\n\n    if (!this.settings.supportedBrowser) {\n      this.openWrapper(src + \"#unsupported\");\n      return;\n    }\n\n    this.popupPromise = (0, _deferred.create)(POPUP.LOADED);\n    this.openWrapper(lazyLoad ? src + \"#loading\" : src);\n    this.closeInterval = window.setInterval(function () {\n      if (!_this3._window) return;\n\n      if (_this3.settings.env === 'webextension') {\n        // $FlowIssue chrome not declared outside\n        chrome.tabs.get(_this3._window.id, function (tab) {\n          if (!tab) {\n            _this3.close();\n\n            _this3.emit(POPUP.CLOSED);\n          }\n        });\n      } else if (_this3._window.closed) {\n        _this3.close();\n\n        _this3.emit(POPUP.CLOSED);\n      }\n    }, POPUP_CLOSE_INTERVAL); // open timeout will be cancelled by POPUP.BOOTSTRAP message\n\n    this.openTimeout = window.setTimeout(function () {\n      _this3.close();\n\n      (0, _showPopupRequest.showPopupRequest)(_this3.open.bind(_this3), function () {\n        _this3.emit(POPUP.CLOSED);\n      });\n    }, POPUP_OPEN_TIMEOUT);\n  };\n\n  _proto.openWrapper = function openWrapper(url) {\n    var _this4 = this;\n\n    if (this.settings.env === 'webextension') {\n      // $FlowIssue chrome not declared outside\n      chrome.windows.getCurrent(null, function (currentWindow) {\n        // Request coming from extension popup,\n        // create new window above instead of opening new tab\n        if (currentWindow.type !== 'normal') {\n          // $FlowIssue chrome not declared outside\n          chrome.windows.create({\n            url: url\n          }, function (newWindow) {\n            // $FlowIssue chrome not declared outside\n            chrome.tabs.query({\n              windowId: newWindow.id,\n              active: true\n            }, function (tabs) {\n              _this4._window = tabs[0];\n            });\n          });\n        } else {\n          // $FlowIssue chrome not declared outside\n          chrome.tabs.query({\n            currentWindow: true,\n            active: true\n          }, function (tabs) {\n            _this4.extensionTabId = tabs[0].id; // $FlowIssue chrome not declared outside\n\n            chrome.tabs.create({\n              url: url,\n              index: tabs[0].index + 1\n            }, function (tab) {\n              _this4._window = tab;\n            });\n          });\n        }\n      });\n    } else if (this.settings.env === 'electron') {\n      this._window = window.open(url, 'modal');\n    } else {\n      this._window = window.open('', '_blank');\n\n      if (this._window) {\n        this._window.location.href = url; // otherwise android/chrome loose window.opener reference\n      }\n    }\n  };\n\n  _proto.handleExtensionConnect = function handleExtensionConnect(port) {\n    if (port.name !== 'trezor-connect') return;\n\n    if (!this._window || this._window && this._window.id !== port.sender.tab.id) {\n      port.disconnect();\n      return;\n    } // since POPUP.BOOTSTRAP will not be handled by \"handleMessage\" we need to threat \"content-script\" connection as the same event\n    // popup is opened properly, now wait for POPUP.LOADED message (in this case handled by \"handleExtensionMessage\")\n\n\n    window.clearTimeout(this.openTimeout);\n    this.extensionPort = port; // $FlowIssue need to update ChromePort definition\n\n    this.extensionPort.onMessage.addListener(this.handleExtensionMessage);\n  };\n\n  _proto.handleExtensionMessage = function handleExtensionMessage(message) {\n    var _this5 = this;\n\n    if (!this.extensionPort) return;\n    var port = this.extensionPort;\n    var data = message.data;\n    if (!data || typeof data !== 'object') return;\n\n    if (data.type === POPUP.ERROR) {\n      // handle popup error\n      var errorMessage = data.payload && typeof data.payload.error === 'string' ? data.payload.error : null;\n      this.emit(POPUP.CLOSED, errorMessage ? \"Popup error: \" + errorMessage : null);\n      this.close();\n    } else if (data.type === POPUP.LOADED) {\n      if (this.popupPromise) {\n        this.popupPromise.resolve();\n      }\n\n      this.iframeHandshake.promise.then(function () {\n        port.postMessage({\n          type: POPUP.INIT,\n          payload: {\n            settings: _this5.settings\n          }\n        });\n      });\n    } else if (data.type === POPUP.EXTENSION_USB_PERMISSIONS) {\n      // $FlowIssue chrome not declared outside\n      chrome.tabs.query({\n        currentWindow: true,\n        active: true\n      }, function (tabs) {\n        // $FlowIssue chrome not declared outside\n        chrome.tabs.create({\n          url: 'trezor-usb-permissions.html',\n          index: tabs[0].index + 1\n        }, function (tab) {// do nothing\n        });\n      });\n    } else if (data.type === POPUP.CLOSE_WINDOW) {\n      this.emit(POPUP.CLOSED);\n      this.close();\n    }\n  };\n\n  _proto.handleMessage = function handleMessage(message) {\n    var _this6 = this;\n\n    // ignore messages from domain other then popup origin and without data\n    var data = message.data;\n    if ((0, _networkUtils.getOrigin)(message.origin) !== this.origin || !data || typeof data !== 'object') return;\n\n    if (data.type === IFRAME.LOADED) {\n      this.iframeHandshake.resolve();\n    } else if (data.type === POPUP.BOOTSTRAP) {\n      // popup is opened properly, now wait for POPUP.LOADED message\n      window.clearTimeout(this.openTimeout);\n    } else if (data.type === POPUP.ERROR && this._window) {\n      var errorMessage = data.payload && typeof data.payload.error === 'string' ? data.payload.error : null;\n      this.emit(POPUP.CLOSED, errorMessage ? \"Popup error: \" + errorMessage : null);\n      this.close();\n    } else if (data.type === POPUP.LOADED) {\n      if (this.popupPromise) {\n        this.popupPromise.resolve();\n      } // popup is successfully loaded\n\n\n      this.iframeHandshake.promise.then(function () {\n        _this6._window.postMessage({\n          type: POPUP.INIT,\n          payload: {\n            settings: _this6.settings\n          }\n        }, _this6.origin);\n      }); // send ConnectSettings to popup\n      // note this settings and iframe.ConnectSettings could be different (especially: origin, popup, webusb, debug)\n      // now popup is able to load assets\n    } else if (data.type === POPUP.CANCEL_POPUP_REQUEST || data.type === UI.CLOSE_UI_WINDOW) {\n      this.close();\n    }\n  };\n\n  _proto.close = function close() {\n    this.locked = false;\n    this.popupPromise = undefined;\n\n    if (this.requestTimeout) {\n      window.clearTimeout(this.requestTimeout);\n      this.requestTimeout = 0;\n    }\n\n    if (this.openTimeout) {\n      window.clearTimeout(this.openTimeout);\n      this.openTimeout = 0;\n    }\n\n    if (this.closeInterval) {\n      window.clearInterval(this.closeInterval);\n      this.closeInterval = 0;\n    }\n\n    if (this.extensionPort) {\n      this.extensionPort.disconnect();\n      this.extensionPort = null;\n    } // switch to previously focused tab\n\n\n    if (this.extensionTabId) {\n      // $FlowIssue chrome not declared outside\n      chrome.tabs.update(this.extensionTabId, {\n        active: true\n      });\n      this.extensionTabId = 0;\n    }\n\n    if (this._window) {\n      if (this.settings.env === 'webextension') {\n        // eslint-disable-next-line no-unused-vars\n        var _e = chrome.runtime.lastError; // $FlowIssue chrome not declared outside\n\n        chrome.tabs.remove(this._window.id, function () {\n          // eslint-disable-next-line no-unused-vars\n          _e = chrome.runtime.lastError;\n        });\n      } else {\n        this._window.close();\n      }\n\n      this._window = null;\n    }\n  };\n\n  _proto.postMessage = /*#__PURE__*/function () {\n    var _postMessage = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(message) {\n      var _this7 = this;\n\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!this._window && message.type !== UI.REQUEST_UI_WINDOW && this.openTimeout)) {\n                _context.next = 4;\n                break;\n              }\n\n              this.close();\n              (0, _showPopupRequest.showPopupRequest)(this.open.bind(this), function () {\n                _this7.emit(POPUP.CLOSED);\n              });\n              return _context.abrupt(\"return\");\n\n            case 4:\n              if (!this.popupPromise) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 7;\n              return this.popupPromise.promise;\n\n            case 7:\n              // post message to popup window\n              if (this._window) {\n                this._window.postMessage(message, this.origin);\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function postMessage(_x) {\n      return _postMessage.apply(this, arguments);\n    }\n\n    return postMessage;\n  }();\n\n  _proto.onBeforeUnload = function onBeforeUnload() {\n    this.close();\n  };\n\n  return PopupManager;\n}(_events[\"default\"]);\n\nexports[\"default\"] = PopupManager;","\"use strict\";\n\nexports.__esModule = true;\nexports.showPopupRequest = void 0;\nvar layerID = 'TrezorConnectInteractionLayer';\nvar layerInnerHtml = \"\\n    <div class=\\\"trezorconnect-container\\\" id=\\\"\" + layerID + \"\\\">\\n        <div class=\\\"trezorconnect-window\\\">\\n            <div class=\\\"trezorconnect-head\\\">\\n                <svg class=\\\"trezorconnect-logo\\\" x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"0 0 163.7 41.9\\\" width=\\\"78px\\\" height=\\\"20px\\\" preserveAspectRatio=\\\"xMinYMin meet\\\">\\n                    <polygon points=\\\"101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1\\\"/>\\n                    <path d=\\\"M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z\\\"/>\\n                    <path d=\\\"M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z\\\"/>\\n                    <polygon points=\\\"82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 \\\"/>\\n                    <path d=\\\"M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z\\\"/>\\n                    <path d=\\\"M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z\\\"/>\\n                    <polygon points=\\\"40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 \\\"/>\\n                </svg>\\n                <div class=\\\"trezorconnect-close\\\">\\n                    <svg x=\\\"0px\\\" y=\\\"0px\\\" viewBox=\\\"24 24 60 60\\\" width=\\\"24px\\\" height=\\\"24px\\\" preserveAspectRatio=\\\"xMinYMin meet\\\">\\n                        <polygon class=\\\"st0\\\" points=\\\"40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 \\\"/>\\n                    </svg>\\n                </div>\\n            </div>\\n            <div class=\\\"trezorconnect-body\\\">\\n                <h3>Popup was blocked</h3>\\n                <p>Please click to \\u201CContinue\\u201D to open popup manually</p>\\n                <button class=\\\"trezorconnect-open\\\">Continue</button>\\n            </div>\\n        </div>\\n    </div>\\n\";\n\nvar showPopupRequest = function showPopupRequest(open, cancel) {\n  if (document.getElementById(layerID)) {\n    return;\n  }\n\n  var div = document.createElement('div');\n  div.id = layerID;\n  div.className = 'trezorconnect-container';\n  div.innerHTML = layerInnerHtml;\n\n  if (document.body) {\n    document.body.appendChild(div);\n  }\n\n  var button = div.getElementsByClassName('trezorconnect-open')[0];\n\n  button.onclick = function () {\n    open();\n\n    if (document.body) {\n      document.body.removeChild(div);\n    }\n  };\n\n  var close = div.getElementsByClassName('trezorconnect-close')[0];\n\n  close.onclick = function () {\n    cancel();\n\n    if (document.body) {\n      document.body.removeChild(div);\n    }\n  };\n};\n\nexports.showPopupRequest = showPopupRequest;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.clearTimeout = exports.dispose = exports.postMessage = exports.init = exports.messagePromises = exports.error = exports.timeout = exports.initPromise = exports.origin = exports.instance = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _deferred = require(\"../utils/deferred\");\n\nvar _constants = require(\"../constants\");\n\nvar _networkUtils = require(\"../env/browser/networkUtils\");\n\nvar _inlineStyles = _interopRequireDefault(require(\"./inline-styles\"));\n\nvar instance;\nexports.instance = instance;\nvar origin;\nexports.origin = origin;\nvar initPromise = (0, _deferred.create)();\nexports.initPromise = initPromise;\nvar timeout = 0;\nexports.timeout = timeout;\nvar error;\nexports.error = error;\nvar _messageID = 0; // every postMessage to iframe has its own promise to resolve\n\nvar messagePromises = {};\nexports.messagePromises = messagePromises;\n\nvar init = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(settings) {\n    var existedFrame, src, manifestString, manifest, onLoad;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            exports.initPromise = initPromise = (0, _deferred.create)();\n            existedFrame = document.getElementById('trezorconnect');\n\n            if (existedFrame) {\n              exports.instance = instance = existedFrame;\n            } else {\n              exports.instance = instance = document.createElement('iframe');\n              instance.frameBorder = '0';\n              instance.width = '0px';\n              instance.height = '0px';\n              instance.style.position = 'absolute';\n              instance.style.display = 'none';\n              instance.style.border = '0px';\n              instance.style.width = '0px';\n              instance.style.height = '0px';\n              instance.id = 'trezorconnect';\n            }\n\n            if (settings.env === 'web') {\n              manifestString = settings.manifest ? JSON.stringify(settings.manifest) : 'undefined'; // note: btoa(undefined) === btoa('undefined') === \"dW5kZWZpbmVk\"\n\n              manifest = \"version=\" + settings.version + \"&manifest=\" + encodeURIComponent(btoa(JSON.stringify(manifestString)));\n              src = settings.iframeSrc + \"?\" + manifest;\n            } else {\n              src = settings.iframeSrc;\n            }\n\n            instance.setAttribute('src', src);\n\n            if (settings.webusb) {\n              instance.setAttribute('allow', 'usb');\n            }\n\n            exports.origin = origin = (0, _networkUtils.getOrigin)(instance.src);\n            exports.timeout = timeout = window.setTimeout(function () {\n              initPromise.reject(_constants.ERRORS.TypedError('Init_IframeTimeout'));\n            }, 10000);\n\n            onLoad = function onLoad() {\n              if (!instance) {\n                initPromise.reject(_constants.ERRORS.TypedError('Init_IframeBlocked'));\n                return;\n              }\n\n              try {\n                // if hosting page is able to access cross-origin location it means that the iframe is not loaded\n                var iframeOrigin = instance.contentWindow.location.origin;\n\n                if (!iframeOrigin || iframeOrigin === 'null') {\n                  // eslint-disable-next-line no-use-before-define\n                  handleIframeBlocked();\n                  return;\n                }\n              } catch (e) {// empty\n              }\n\n              var extension; // $FlowIssue chrome is not declared outside\n\n              if (typeof chrome !== 'undefined' && chrome.runtime && typeof chrome.runtime.onConnect !== 'undefined') {\n                chrome.runtime.onConnect.addListener(function () {});\n                extension = chrome.runtime.id;\n              }\n\n              instance.contentWindow.postMessage({\n                type: _constants.IFRAME.INIT,\n                payload: {\n                  settings: settings,\n                  extension: extension\n                }\n              }, origin);\n              instance.onload = undefined;\n            }; // IE hack\n\n\n            if (instance.attachEvent) {\n              instance.attachEvent('onload', onLoad);\n            } else {\n              instance.onload = onLoad;\n            } // inject iframe into host document body\n\n\n            if (document.body) {\n              document.body.appendChild(instance); // eslint-disable-next-line no-use-before-define\n\n              injectStyleSheet();\n            }\n\n            _context.prev = 11;\n            _context.next = 14;\n            return initPromise.promise;\n\n          case 14:\n            _context.next = 20;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](11);\n\n            // reset state to allow initialization again\n            if (instance) {\n              if (instance.parentNode) {\n                instance.parentNode.removeChild(instance);\n              } // eslint-disable-next-line require-atomic-updates\n\n\n              exports.instance = instance = null;\n            }\n\n            throw _context.t0;\n\n          case 20:\n            _context.prev = 20;\n            window.clearTimeout(timeout);\n            exports.timeout = timeout = 0;\n            return _context.finish(20);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[11, 16, 20, 24]]);\n  }));\n\n  return function init(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.init = init;\n\nvar injectStyleSheet = function injectStyleSheet() {\n  if (!instance) {\n    throw _constants.ERRORS.TypedError('Init_IframeBlocked');\n  }\n\n  var doc = instance.ownerDocument;\n  var head = doc.head || doc.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.setAttribute('id', 'TrezorConnectStylesheet'); // $FlowIssue\n\n  if (style.styleSheet) {\n    // IE\n    // $FlowIssue\n    style.styleSheet.cssText = _inlineStyles[\"default\"];\n    head.appendChild(style);\n  } else {\n    style.appendChild(document.createTextNode(_inlineStyles[\"default\"]));\n    head.append(style);\n  }\n};\n\nvar handleIframeBlocked = function handleIframeBlocked() {\n  window.clearTimeout(timeout);\n  exports.error = error = _constants.ERRORS.TypedError('Init_IframeBlocked'); // eslint-disable-next-line no-use-before-define\n\n  dispose();\n  initPromise.reject(error);\n}; // post messages to iframe\n\n\nvar postMessage = function postMessage(message, usePromise) {\n  if (usePromise === void 0) {\n    usePromise = true;\n  }\n\n  if (!instance) {\n    throw _constants.ERRORS.TypedError('Init_IframeBlocked');\n  }\n\n  if (usePromise) {\n    _messageID++;\n    message.id = _messageID;\n    messagePromises[_messageID] = (0, _deferred.create)();\n    var promise = messagePromises[_messageID].promise;\n    instance.contentWindow.postMessage(message, origin);\n    return promise;\n  }\n\n  instance.contentWindow.postMessage(message, origin);\n  return null;\n};\n\nexports.postMessage = postMessage;\n\nvar dispose = function dispose() {\n  if (instance && instance.parentNode) {\n    try {\n      instance.parentNode.removeChild(instance);\n    } catch (error) {// do nothing\n    }\n  }\n\n  exports.instance = instance = null;\n  exports.timeout = timeout = 0;\n};\n\nexports.dispose = dispose;\n\nvar clearTimeout = function clearTimeout() {\n  window.clearTimeout(timeout);\n};\n\nexports.clearTimeout = clearTimeout;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nvar _exportNames = {};\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _constants = require(\"./constants\");\n\nObject.keys(_constants).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _constants[key];\n});\n\nvar _node = require(\"./env/node\");\n\nvar _types = require(\"./types\");\n\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  exports[key] = _types[key];\n});\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar TrezorConnect = {\n  manifest: _node.manifest,\n  init: function init(settings) {\n    return (0, _node.init)(settings);\n  },\n  getSettings: _node.getSettings,\n  on: function on(type, fn) {\n    _node.eventEmitter.on(type, fn);\n  },\n  off: function off(type, fn) {\n    _node.eventEmitter.removeListener(type, fn);\n  },\n  removeAllListeners: function removeAllListeners() {\n    _node.eventEmitter.removeAllListeners();\n  },\n  uiResponse: _node.uiResponse,\n  // methods\n  blockchainGetAccountBalanceHistory: function blockchainGetAccountBalanceHistory(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainGetAccountBalanceHistory'\n    }, params));\n  },\n  blockchainGetCurrentFiatRates: function blockchainGetCurrentFiatRates(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainGetCurrentFiatRates'\n    }, params));\n  },\n  blockchainGetFiatRatesForTimestamps: function blockchainGetFiatRatesForTimestamps(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainGetFiatRatesForTimestamps'\n    }, params));\n  },\n  blockchainDisconnect: function blockchainDisconnect(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainDisconnect'\n    }, params));\n  },\n  blockchainEstimateFee: function blockchainEstimateFee(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainEstimateFee'\n    }, params));\n  },\n  blockchainGetTransactions: function blockchainGetTransactions(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainGetTransactions'\n    }, params));\n  },\n  blockchainSetCustomBackend: function blockchainSetCustomBackend(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainSetCustomBackend'\n    }, params));\n  },\n  blockchainSubscribe: function blockchainSubscribe(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainSubscribe'\n    }, params));\n  },\n  blockchainSubscribeFiatRates: function blockchainSubscribeFiatRates(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainSubscribeFiatRates'\n    }, params));\n  },\n  blockchainUnsubscribe: function blockchainUnsubscribe(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainUnsubscribe'\n    }, params));\n  },\n  blockchainUnsubscribeFiatRates: function blockchainUnsubscribeFiatRates(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'blockchainUnsubscribeFiatRates'\n    }, params));\n  },\n  customMessage: function customMessage(params) {\n    return (0, _node.customMessage)(params);\n  },\n  requestLogin: function requestLogin(params) {\n    return (0, _node.requestLogin)(params);\n  },\n  cardanoGetAddress: function cardanoGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'cardanoGetAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  cardanoGetPublicKey: function cardanoGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'cardanoGetPublicKey'\n    }, params));\n  },\n  cardanoSignTransaction: function cardanoSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'cardanoSignTransaction'\n    }, params));\n  },\n  cipherKeyValue: function cipherKeyValue(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'cipherKeyValue'\n    }, params));\n  },\n  composeTransaction: function composeTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'composeTransaction'\n    }, params));\n  },\n  debugLinkDecision: function debugLinkDecision(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'debugLinkDecision'\n    }, params));\n  },\n  debugLinkGetState: function debugLinkGetState(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'debugLinkGetState'\n    }, params));\n  },\n  ethereumGetAddress: function ethereumGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'ethereumGetAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  ethereumGetPublicKey: function ethereumGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumGetPublicKey'\n    }, params));\n  },\n  ethereumSignMessage: function ethereumSignMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumSignMessage'\n    }, params));\n  },\n  ethereumSignTransaction: function ethereumSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumSignTransaction'\n    }, params));\n  },\n  ethereumVerifyMessage: function ethereumVerifyMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'ethereumVerifyMessage'\n    }, params));\n  },\n  getAccountInfo: function getAccountInfo(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getAccountInfo'\n    }, params));\n  },\n  getAddress: function getAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'getAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  getDeviceState: function getDeviceState(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getDeviceState'\n    }, params));\n  },\n  getFeatures: function getFeatures(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getFeatures'\n    }, params));\n  },\n  getPublicKey: function getPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getPublicKey'\n    }, params));\n  },\n  liskGetAddress: function liskGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'liskGetAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  liskGetPublicKey: function liskGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'liskGetPublicKey'\n    }, params));\n  },\n  liskSignMessage: function liskSignMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'liskSignMessage'\n    }, params));\n  },\n  liskSignTransaction: function liskSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'liskSignTransaction'\n    }, params));\n  },\n  liskVerifyMessage: function liskVerifyMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'liskVerifyMessage'\n    }, params));\n  },\n  nemGetAddress: function nemGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'nemGetAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  nemSignTransaction: function nemSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'nemSignTransaction'\n    }, params));\n  },\n  pushTransaction: function pushTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'pushTransaction'\n    }, params));\n  },\n  rippleGetAddress: function rippleGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'rippleGetAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  rippleSignTransaction: function rippleSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'rippleSignTransaction'\n    }, params));\n  },\n  signMessage: function signMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'signMessage'\n    }, params));\n  },\n  signTransaction: function signTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'signTransaction'\n    }, params));\n  },\n  stellarGetAddress: function stellarGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'stellarGetAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  stellarSignTransaction: function stellarSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'stellarSignTransaction'\n    }, params));\n  },\n  tezosGetAddress: function tezosGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'tezosGetAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  tezosGetPublicKey: function tezosGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'tezosGetPublicKey'\n    }, params));\n  },\n  tezosSignTransaction: function tezosSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'tezosSignTransaction'\n    }, params));\n  },\n  eosGetPublicKey: function eosGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'eosGetPublicKey'\n    }, params));\n  },\n  eosSignTransaction: function eosSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'eosSignTransaction'\n    }, params));\n  },\n  binanceGetAddress: function binanceGetAddress(params) {\n    var useEventListener = _node.eventEmitter.listenerCount(_constants.UI.ADDRESS_VALIDATION) > 0;\n    return (0, _node.call)(_objectSpread(_objectSpread({\n      method: 'binanceGetAddress'\n    }, params), {}, {\n      useEventListener: useEventListener\n    }));\n  },\n  binanceGetPublicKey: function binanceGetPublicKey(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'binanceGetPublicKey'\n    }, params));\n  },\n  binanceSignTransaction: function binanceSignTransaction(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'binanceSignTransaction'\n    }, params));\n  },\n  verifyMessage: function verifyMessage(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'verifyMessage'\n    }, params));\n  },\n  resetDevice: function resetDevice(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'resetDevice'\n    }, params));\n  },\n  wipeDevice: function wipeDevice(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'wipeDevice'\n    }, params));\n  },\n  applyFlags: function applyFlags(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'applyFlags'\n    }, params));\n  },\n  applySettings: function applySettings(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'applySettings'\n    }, params));\n  },\n  backupDevice: function backupDevice(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'backupDevice'\n    }, params));\n  },\n  changePin: function changePin(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'changePin'\n    }, params));\n  },\n  firmwareUpdate: function firmwareUpdate(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'firmwareUpdate'\n    }, params));\n  },\n  recoveryDevice: function recoveryDevice(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'recoveryDevice'\n    }, params));\n  },\n  getCoinInfo: function getCoinInfo(params) {\n    return (0, _node.call)(_objectSpread({\n      method: 'getCoinInfo'\n    }, params));\n  },\n  dispose: function dispose() {\n    (0, _node.dispose)();\n  },\n  cancel: _node.cancel,\n  renderWebUSBButton: function renderWebUSBButton(className) {\n    (0, _node.renderWebUSBButton)(className);\n  },\n  disableWebUSB: function disableWebUSB() {\n    (0, _node.disableWebUSB)();\n  }\n};\nvar _default = TrezorConnect;\nexports[\"default\"] = _default;","\"use strict\";\n\nexports.__esModule = true;\nexports.CLOSE_WINDOW = exports.CANCEL_POPUP_REQUEST = exports.CLOSED = exports.HANDSHAKE = exports.EXTENSION_USB_PERMISSIONS = exports.ERROR = exports.INIT = exports.LOADED = exports.BOOTSTRAP = void 0;\n// Message called from popup.html inline script before \"window.onload\" event. This is first message from popup to window.opener.\nvar BOOTSTRAP = 'popup-bootstrap'; // Message from popup.js to window.opener, called after \"window.onload\" event. This is second message from popup to window.opener.\n\nexports.BOOTSTRAP = BOOTSTRAP;\nvar LOADED = 'popup-loaded'; // Message from window.opener to popup.js. Send settings to popup. This is first message from window.opener to popup.\n\nexports.LOADED = LOADED;\nvar INIT = 'popup-init'; // Error message from popup to window.opener. Could be thrown during popup initialization process (POPUP.INIT)\n\nexports.INIT = INIT;\nvar ERROR = 'popup-error'; // Message to webextensions, opens \"trezor-usb-permission.html\" within webextension\n\nexports.ERROR = ERROR;\nvar EXTENSION_USB_PERMISSIONS = 'open-usb-permissions'; // Message called from both [popup > iframe] then [iframe > popup] in this exact order.\n// Firstly popup call iframe to resolve popup promise in Core\n// Then iframe reacts to POPUP.HANDSHAKE message and sends ConnectSettings, transport information and requested method details back to popup\n\nexports.EXTENSION_USB_PERMISSIONS = EXTENSION_USB_PERMISSIONS;\nvar HANDSHAKE = 'popup-handshake'; // Event emitted from PopupManager at the end of popup closing process.\n// Sent from popup thru window.opener to an iframe because message channel between popup and iframe is no longer available\n\nexports.HANDSHAKE = HANDSHAKE;\nvar CLOSED = 'popup-closed'; // Message called from iframe to popup, it means that popup will not be needed (example: Blockchain methods are not using popup at all)\n// This will close active popup window and/or clear opening process in PopupManager (maybe popup wasn't opened yet)\n\nexports.CLOSED = CLOSED;\nvar CANCEL_POPUP_REQUEST = 'ui-cancel-popup-request'; // Message called from inline element in popup.html (window.closeWindow), this is used only with webextensions to properly handle popup close event\n\nexports.CANCEL_POPUP_REQUEST = CANCEL_POPUP_REQUEST;\nvar CLOSE_WINDOW = 'window.close';\nexports.CLOSE_WINDOW = CLOSE_WINDOW;","\"use strict\";\n\nexports.__esModule = true;\nexports.TYPES = void 0;\nvar TYPES = Object.freeze({\n  'bitcoin': 'Bitcoin',\n  'ethereum': 'Ethereum',\n  'eos': 'Eos',\n  'nem': 'NEM',\n  'stellar': 'Stellar',\n  'lisk': 'Lisk',\n  'cardano': 'Cardano',\n  'ripple': 'Ripple',\n  'tezos': 'Tezors',\n  'binance': 'Binance'\n});\nexports.TYPES = TYPES;","\"use strict\";\n\nexports.__esModule = true;\nexports.errorMessage = exports.parseMessage = void 0;\n\n// parse MessageEvent .data into CoreMessage\nvar parseMessage = function parseMessage(messageData) {\n  var message = {\n    event: messageData.event,\n    type: messageData.type,\n    payload: messageData.payload\n  };\n\n  if (typeof messageData.id === 'number') {\n    message.id = messageData.id;\n  }\n\n  if (typeof messageData.success === 'boolean') {\n    message.success = messageData.success;\n  }\n\n  return message;\n}; // common response used straight from npm index (not from Core)\n\n\nexports.parseMessage = parseMessage;\n\nvar errorMessage = function errorMessage(error) {\n  return {\n    success: false,\n    payload: {\n      error: error.message,\n      code: error.code\n    }\n  };\n};\n\nexports.errorMessage = errorMessage;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.disableWebUSB = exports.requestLogin = exports.customMessage = exports.getSettings = exports.renderWebUSBButton = exports.uiResponse = exports.call = exports.init = exports.cancel = exports.dispose = exports.manifest = exports.eventEmitter = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _PopupManager = _interopRequireDefault(require(\"../../popup/PopupManager\"));\n\nvar iframe = _interopRequireWildcard(require(\"../../iframe/builder\"));\n\nvar _button = _interopRequireDefault(require(\"../../webusb/button\"));\n\nvar _message = require(\"../../message\");\n\nvar _builder2 = require(\"../../message/builder\");\n\nvar _ConnectSettings = require(\"../../data/ConnectSettings\");\n\nvar _debug = _interopRequireWildcard(require(\"../../utils/debug\"));\n\nvar _constants = require(\"../../constants\");\n\nvar $T = _interopRequireWildcard(require(\"../../types\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar eventEmitter = new _events[\"default\"]();\nexports.eventEmitter = eventEmitter;\n\nvar _log = (0, _debug.init)('[trezor-connect.js]');\n\nvar _settings;\n\nvar _popupManager;\n\nvar initPopupManager = function initPopupManager() {\n  var pm = new _PopupManager[\"default\"](_settings);\n  pm.on(_constants.POPUP.CLOSED, function (error) {\n    iframe.postMessage({\n      type: _constants.POPUP.CLOSED,\n      payload: error ? {\n        error: error\n      } : null\n    }, false);\n  });\n  return pm;\n};\n\nvar manifest = function manifest(data) {\n  _settings = (0, _ConnectSettings.parse)({\n    manifest: data\n  });\n};\n\nexports.manifest = manifest;\n\nvar dispose = function dispose() {\n  iframe.dispose();\n\n  if (_popupManager) {\n    _popupManager.close();\n  }\n};\n\nexports.dispose = dispose;\n\nvar cancel = function cancel(error) {\n  if (_popupManager) {\n    _popupManager.emit(_constants.POPUP.CLOSED, error);\n  }\n}; // handle message received from iframe\n\n\nexports.cancel = cancel;\n\nvar handleMessage = function handleMessage(messageEvent) {\n  // ignore messages from domain other then iframe origin\n  if (messageEvent.origin !== iframe.origin) return;\n  var message = (0, _message.parseMessage)(messageEvent.data);\n  var event = message.event,\n      type = message.type,\n      payload = message.payload;\n  var id = message.id || 0;\n\n  _log.log('handleMessage', message);\n\n  switch (event) {\n    case _constants.RESPONSE_EVENT:\n      if (iframe.messagePromises[id]) {\n        // resolve message promise (send result of call method)\n        iframe.messagePromises[id].resolve({\n          id: id,\n          success: message.success,\n          payload: payload\n        });\n        delete iframe.messagePromises[id];\n      } else {\n        _log.warn(\"Unknown message id \" + id);\n      }\n\n      break;\n\n    case _constants.DEVICE_EVENT:\n      // pass DEVICE event up to html\n      eventEmitter.emit(event, message);\n      eventEmitter.emit(type, payload); // DEVICE_EVENT also emit single events (connect/disconnect...)\n\n      break;\n\n    case _constants.TRANSPORT_EVENT:\n      eventEmitter.emit(event, message);\n      eventEmitter.emit(type, payload);\n      break;\n\n    case _constants.BLOCKCHAIN_EVENT:\n      eventEmitter.emit(event, message);\n      eventEmitter.emit(type, payload);\n      break;\n\n    case _constants.UI_EVENT:\n      if (type === _constants.IFRAME.BOOTSTRAP) {\n        iframe.clearTimeout();\n        break;\n      }\n\n      if (type === _constants.IFRAME.LOADED) {\n        iframe.initPromise.resolve();\n      }\n\n      if (type === _constants.IFRAME.ERROR) {\n        iframe.initPromise.reject(payload.error);\n      } // pass UI event up\n\n\n      eventEmitter.emit(event, message);\n      eventEmitter.emit(type, payload);\n      break;\n\n    default:\n      _log.log('Undefined message', event, messageEvent);\n\n  }\n};\n\nvar init = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(settings) {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (settings === void 0) {\n              settings = {};\n            }\n\n            if (!iframe.instance) {\n              _context.next = 3;\n              break;\n            }\n\n            throw _constants.ERRORS.TypedError('Init_AlreadyInitialized');\n\n          case 3:\n            if (!_settings) {\n              _settings = (0, _ConnectSettings.parse)(settings);\n            }\n\n            if (_settings.manifest) {\n              _context.next = 6;\n              break;\n            }\n\n            throw _constants.ERRORS.TypedError('Init_ManifestMissing');\n\n          case 6:\n            if (!_settings.lazyLoad) {\n              _context.next = 9;\n              break;\n            }\n\n            // reset \"lazyLoad\" after first use\n            _settings.lazyLoad = false;\n            return _context.abrupt(\"return\");\n\n          case 9:\n            if (!_popupManager) {\n              _popupManager = initPopupManager();\n            }\n\n            _log.enabled = !!_settings.debug;\n            window.addEventListener('message', handleMessage);\n            window.addEventListener('unload', dispose);\n            _context.next = 15;\n            return iframe.init(_settings);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function init(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.init = init;\n\nvar call = /*#__PURE__*/function () {\n  var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(params) {\n    var response;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(!iframe.instance && !iframe.timeout)) {\n              _context2.next = 15;\n              break;\n            }\n\n            // init popup with lazy loading before iframe initialization\n            _settings = (0, _ConnectSettings.parse)(_settings);\n\n            if (_settings.manifest) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", (0, _message.errorMessage)(_constants.ERRORS.TypedError('Init_ManifestMissing')));\n\n          case 4:\n            if (!_popupManager) {\n              _popupManager = initPopupManager();\n            }\n\n            _popupManager.request(true); // auto init with default settings\n\n\n            _context2.prev = 6;\n            _context2.next = 9;\n            return init(_settings);\n\n          case 9:\n            _context2.next = 15;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](6);\n\n            if (_popupManager) {\n              // Catch fatal iframe errors (not loading)\n              if (['Init_IframeBlocked', 'Init_IframeTimeout'].includes(_context2.t0.code)) {\n                _popupManager.postMessage((0, _builder2.UiMessage)(_constants.UI.IFRAME_FAILURE));\n              } else {\n                _popupManager.close();\n              }\n            }\n\n            return _context2.abrupt(\"return\", (0, _message.errorMessage)(_context2.t0));\n\n          case 15:\n            if (!iframe.timeout) {\n              _context2.next = 19;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", (0, _message.errorMessage)(_constants.ERRORS.TypedError('Init_ManifestMissing')));\n\n          case 19:\n            if (!iframe.error) {\n              _context2.next = 21;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", (0, _message.errorMessage)(iframe.error));\n\n          case 21:\n            // request popup window it might be used in the future\n            if (_settings.popup && _popupManager) {\n              _popupManager.request();\n            } // post message to iframe\n\n\n            _context2.prev = 22;\n            _context2.next = 25;\n            return iframe.postMessage({\n              type: _constants.IFRAME.CALL,\n              payload: params\n            });\n\n          case 25:\n            response = _context2.sent;\n\n            if (!response) {\n              _context2.next = 31;\n              break;\n            }\n\n            if (!response.success && response.payload.error.code !== 'Device_CallInProgress' && _popupManager) {\n              _popupManager.unlock();\n            }\n\n            return _context2.abrupt(\"return\", response);\n\n          case 31:\n            if (_popupManager) {\n              _popupManager.unlock();\n            }\n\n            return _context2.abrupt(\"return\", (0, _message.errorMessage)(_constants.ERRORS.TypedError('Method_NoResponse')));\n\n          case 33:\n            _context2.next = 40;\n            break;\n\n          case 35:\n            _context2.prev = 35;\n            _context2.t1 = _context2[\"catch\"](22);\n\n            _log.error('__call error', _context2.t1);\n\n            if (_popupManager) {\n              _popupManager.close();\n            }\n\n            return _context2.abrupt(\"return\", (0, _message.errorMessage)(_context2.t1));\n\n          case 40:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[6, 11], [22, 35]]);\n  }));\n\n  return function call(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.call = call;\n\nvar customMessageResponse = function customMessageResponse(payload) {\n  iframe.postMessage({\n    event: _constants.UI_EVENT,\n    type: _constants.UI.CUSTOM_MESSAGE_RESPONSE,\n    payload: payload\n  });\n};\n\nvar uiResponse = function uiResponse(response) {\n  var type = response.type,\n      payload = response.payload;\n  iframe.postMessage({\n    event: _constants.UI_EVENT,\n    type: type,\n    payload: payload\n  });\n};\n\nexports.uiResponse = uiResponse;\n\nvar renderWebUSBButton = function renderWebUSBButton(className) {\n  (0, _button[\"default\"])(className, _settings.webusbSrc, iframe.origin);\n};\n\nexports.renderWebUSBButton = renderWebUSBButton;\n\nvar getSettings = /*#__PURE__*/function () {\n  var _ref3 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3() {\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (iframe.instance) {\n              _context3.next = 2;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", (0, _message.errorMessage)(_constants.ERRORS.TypedError('Init_NotInitialized')));\n\n          case 2:\n            _context3.next = 4;\n            return call({\n              method: 'getSettings'\n            });\n\n          case 4:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getSettings() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexports.getSettings = getSettings;\n\nvar customMessage = /*#__PURE__*/function () {\n  var _ref4 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(params) {\n    var callback, customMessageListener, response;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (!(typeof params.callback !== 'function')) {\n              _context5.next = 2;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", (0, _message.errorMessage)(_constants.ERRORS.TypedError('Method_CustomMessage_Callback')));\n\n          case 2:\n            // TODO: set message listener only if iframe is loaded correctly\n            callback = params.callback;\n\n            customMessageListener = /*#__PURE__*/function () {\n              var _ref5 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(event) {\n                var data, payload;\n                return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        data = event.data;\n\n                        if (!(data && data.type === _constants.UI.CUSTOM_MESSAGE_REQUEST)) {\n                          _context4.next = 6;\n                          break;\n                        }\n\n                        _context4.next = 4;\n                        return callback(data.payload);\n\n                      case 4:\n                        payload = _context4.sent;\n\n                        if (payload) {\n                          customMessageResponse(payload);\n                        } else {\n                          customMessageResponse({\n                            message: 'release'\n                          });\n                        }\n\n                      case 6:\n                      case \"end\":\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4);\n              }));\n\n              return function customMessageListener(_x4) {\n                return _ref5.apply(this, arguments);\n              };\n            }();\n\n            window.addEventListener('message', customMessageListener, false);\n            _context5.next = 7;\n            return call(_objectSpread(_objectSpread({\n              method: 'customMessage'\n            }, params), {}, {\n              callback: null\n            }));\n\n          case 7:\n            response = _context5.sent;\n            window.removeEventListener('message', customMessageListener);\n            return _context5.abrupt(\"return\", response);\n\n          case 10:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function customMessage(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexports.customMessage = customMessage;\n\nvar requestLogin = /*#__PURE__*/function () {\n  var _ref6 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(params) {\n    var callback, loginChallengeListener, response;\n    return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(typeof params.callback === 'function')) {\n              _context7.next = 11;\n              break;\n            }\n\n            callback = params.callback; // TODO: set message listener only if iframe is loaded correctly\n\n            loginChallengeListener = /*#__PURE__*/function () {\n              var _ref7 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(event) {\n                var data, payload;\n                return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n                  while (1) {\n                    switch (_context6.prev = _context6.next) {\n                      case 0:\n                        data = event.data;\n\n                        if (!(data && data.type === _constants.UI.LOGIN_CHALLENGE_REQUEST)) {\n                          _context6.next = 12;\n                          break;\n                        }\n\n                        _context6.prev = 2;\n                        _context6.next = 5;\n                        return callback();\n\n                      case 5:\n                        payload = _context6.sent;\n                        iframe.postMessage({\n                          event: _constants.UI_EVENT,\n                          type: _constants.UI.LOGIN_CHALLENGE_RESPONSE,\n                          payload: payload\n                        });\n                        _context6.next = 12;\n                        break;\n\n                      case 9:\n                        _context6.prev = 9;\n                        _context6.t0 = _context6[\"catch\"](2);\n                        iframe.postMessage({\n                          event: _constants.UI_EVENT,\n                          type: _constants.UI.LOGIN_CHALLENGE_RESPONSE,\n                          payload: _context6.t0.message\n                        });\n\n                      case 12:\n                      case \"end\":\n                        return _context6.stop();\n                    }\n                  }\n                }, _callee6, null, [[2, 9]]);\n              }));\n\n              return function loginChallengeListener(_x6) {\n                return _ref7.apply(this, arguments);\n              };\n            }();\n\n            window.addEventListener('message', loginChallengeListener, false);\n            _context7.next = 6;\n            return call(_objectSpread(_objectSpread({\n              method: 'requestLogin'\n            }, params), {}, {\n              asyncChallenge: true,\n              callback: null\n            }));\n\n          case 6:\n            response = _context7.sent;\n            window.removeEventListener('message', loginChallengeListener);\n            return _context7.abrupt(\"return\", response);\n\n          case 11:\n            _context7.next = 13;\n            return call(_objectSpread({\n              method: 'requestLogin'\n            }, params));\n\n          case 13:\n            return _context7.abrupt(\"return\", _context7.sent);\n\n          case 14:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function requestLogin(_x5) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nexports.requestLogin = requestLogin;\n\nvar disableWebUSB = function disableWebUSB() {\n  iframe.postMessage({\n    event: _constants.UI_EVENT,\n    type: _constants.TRANSPORT.DISABLE_WEBUSB\n  });\n};\n\nexports.disableWebUSB = disableWebUSB;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports.CARDANO = exports.UI = exports.TRANSPORT = exports.POPUP = exports.NETWORK = exports.IFRAME = exports.ERRORS = exports.DEVICE = exports.BLOCKCHAIN = exports.BLOCKCHAIN_EVENT = exports.RESPONSE_EVENT = exports.TRANSPORT_EVENT = exports.DEVICE_EVENT = exports.UI_EVENT = exports.CORE_EVENT = void 0;\n\nvar BLOCKCHAIN = _interopRequireWildcard(require(\"./blockchain\"));\n\nexports.BLOCKCHAIN = BLOCKCHAIN;\n\nvar DEVICE = _interopRequireWildcard(require(\"./device\"));\n\nexports.DEVICE = DEVICE;\n\nvar ERRORS = _interopRequireWildcard(require(\"./errors\"));\n\nexports.ERRORS = ERRORS;\n\nvar IFRAME = _interopRequireWildcard(require(\"./iframe\"));\n\nexports.IFRAME = IFRAME;\n\nvar NETWORK = _interopRequireWildcard(require(\"./network\"));\n\nexports.NETWORK = NETWORK;\n\nvar POPUP = _interopRequireWildcard(require(\"./popup\"));\n\nexports.POPUP = POPUP;\n\nvar TRANSPORT = _interopRequireWildcard(require(\"./transport\"));\n\nexports.TRANSPORT = TRANSPORT;\n\nvar UI = _interopRequireWildcard(require(\"./ui\"));\n\nexports.UI = UI;\n\nvar CARDANO = _interopRequireWildcard(require(\"./cardano\"));\n\nexports.CARDANO = CARDANO;\nvar CORE_EVENT = 'CORE_EVENT';\nexports.CORE_EVENT = CORE_EVENT;\nvar UI_EVENT = 'UI_EVENT';\nexports.UI_EVENT = UI_EVENT;\nvar DEVICE_EVENT = 'DEVICE_EVENT';\nexports.DEVICE_EVENT = DEVICE_EVENT;\nvar TRANSPORT_EVENT = 'TRANSPORT_EVENT';\nexports.TRANSPORT_EVENT = TRANSPORT_EVENT;\nvar RESPONSE_EVENT = 'RESPONSE_EVENT';\nexports.RESPONSE_EVENT = RESPONSE_EVENT;\nvar BLOCKCHAIN_EVENT = 'BLOCKCHAIN_EVENT';\nexports.BLOCKCHAIN_EVENT = BLOCKCHAIN_EVENT;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar render = function render(className, url, origin) {\n  var query = className || '.trezor-webusb-button';\n  var buttons = document.querySelectorAll(query);\n  var src = url + \"?\" + Date.now();\n  buttons.forEach(function (b) {\n    if (b.getElementsByTagName('iframe').length < 1) {\n      var bounds = b.getBoundingClientRect();\n      var btnIframe = document.createElement('iframe');\n      btnIframe.frameBorder = '0';\n      btnIframe.width = Math.round(bounds.width) + 'px';\n      btnIframe.height = Math.round(bounds.height) + 'px';\n      btnIframe.style.position = 'absolute';\n      btnIframe.style.top = '0px';\n      btnIframe.style.left = '0px';\n      btnIframe.style.zIndex = '1'; // btnIframe.style.opacity = '0'; // this makes click impossible on cross-origin\n\n      btnIframe.setAttribute('allow', 'usb');\n      btnIframe.setAttribute('scrolling', 'no');\n\n      btnIframe.onload = function () {\n        btnIframe.contentWindow.postMessage({// style: JSON.stringify( window.getComputedStyle(b) ),\n          // outer: b.outerHTML,\n          // inner: b.innerHTML\n        }, origin);\n      };\n\n      btnIframe.src = src; // inject iframe into button\n\n      b.append(btnIframe);\n    }\n  });\n};\n\nvar _default = render;\nexports[\"default\"] = _default;","\"use strict\";\n\nexports.__esModule = true;\nexports.START_PENDING = exports.DISABLE_WEBUSB = exports.REQUEST = exports.STREAM = exports.UPDATE = exports.ERROR = exports.START = void 0;\nvar START = 'transport-start';\nexports.START = START;\nvar ERROR = 'transport-error';\nexports.ERROR = ERROR;\nvar UPDATE = 'transport-update';\nexports.UPDATE = UPDATE;\nvar STREAM = 'transport-stream';\nexports.STREAM = STREAM;\nvar REQUEST = 'transport-request_device';\nexports.REQUEST = REQUEST;\nvar DISABLE_WEBUSB = 'transport-disable_webusb';\nexports.DISABLE_WEBUSB = DISABLE_WEBUSB;\nvar START_PENDING = 'transport-start_pending';\nexports.START_PENDING = START_PENDING;","\"use strict\";\n\nexports.__esModule = true;\nexports.UNREADABLE = exports.WAIT_FOR_SELECTION = exports.WORD = exports.PASSPHRASE_ON_DEVICE = exports.PASSPHRASE = exports.PIN = exports.BUTTON = exports.LOADING = exports.USED_ELSEWHERE = exports.RELEASED = exports.ACQUIRED = exports.RELEASE = exports.ACQUIRE = exports.CHANGED = exports.DISCONNECT = exports.CONNECT_UNACQUIRED = exports.CONNECT = void 0;\n// device list events\nvar CONNECT = 'device-connect';\nexports.CONNECT = CONNECT;\nvar CONNECT_UNACQUIRED = 'device-connect_unacquired';\nexports.CONNECT_UNACQUIRED = CONNECT_UNACQUIRED;\nvar DISCONNECT = 'device-disconnect';\nexports.DISCONNECT = DISCONNECT;\nvar CHANGED = 'device-changed';\nexports.CHANGED = CHANGED;\nvar ACQUIRE = 'device-acquire';\nexports.ACQUIRE = ACQUIRE;\nvar RELEASE = 'device-release';\nexports.RELEASE = RELEASE;\nvar ACQUIRED = 'device-acquired';\nexports.ACQUIRED = ACQUIRED;\nvar RELEASED = 'device-released';\nexports.RELEASED = RELEASED;\nvar USED_ELSEWHERE = 'device-used_elsewhere';\nexports.USED_ELSEWHERE = USED_ELSEWHERE;\nvar LOADING = 'device-loading'; // trezor-link events in protobuf format\n\nexports.LOADING = LOADING;\nvar BUTTON = 'button';\nexports.BUTTON = BUTTON;\nvar PIN = 'pin';\nexports.PIN = PIN;\nvar PASSPHRASE = 'passphrase';\nexports.PASSPHRASE = PASSPHRASE;\nvar PASSPHRASE_ON_DEVICE = 'passphrase_on_device';\nexports.PASSPHRASE_ON_DEVICE = PASSPHRASE_ON_DEVICE;\nvar WORD = 'word'; // custom\n\nexports.WORD = WORD;\nvar WAIT_FOR_SELECTION = 'device-wait_for_selection'; // this string has different prefix than other constants and it's used as device path\n\nexports.WAIT_FOR_SELECTION = WAIT_FOR_SELECTION;\nvar UNREADABLE = 'unreadable-device';\nexports.UNREADABLE = UNREADABLE;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.BlockchainMessage = exports.ResponseMessage = exports.TransportMessage = exports.DeviceMessage = exports.UiMessage = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _constants = require(\"../constants\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar UiMessage = function UiMessage(type, payload) {\n  return {\n    event: _constants.UI_EVENT,\n    type: type,\n    payload: payload\n  };\n};\n\nexports.UiMessage = UiMessage;\n\nvar DeviceMessage = function DeviceMessage(type, payload) {\n  return {\n    event: _constants.DEVICE_EVENT,\n    type: type,\n    payload: payload\n  };\n};\n\nexports.DeviceMessage = DeviceMessage;\n\nvar TransportMessage = function TransportMessage(type, payload) {\n  return {\n    event: _constants.TRANSPORT_EVENT,\n    type: type,\n    // convert Error/TypeError object into payload error type (Error object/class is converted to string while sent via postMessage)\n    payload: payload.error ? _objectSpread(_objectSpread({}, payload), {}, {\n      error: payload.error.message,\n      code: payload.error.code\n    }) : payload\n  };\n};\n\nexports.TransportMessage = TransportMessage;\n\nvar ResponseMessage = function ResponseMessage(id, success, payload) {\n  if (payload === void 0) {\n    payload = null;\n  }\n\n  return {\n    event: _constants.RESPONSE_EVENT,\n    type: _constants.RESPONSE_EVENT,\n    id: id,\n    success: success,\n    // convert Error/TypeError object into payload error type (Error object/class is converted to string while sent via postMessage)\n    payload: success ? payload : {\n      error: payload.error.message,\n      code: payload.error.code\n    }\n  };\n};\n\nexports.ResponseMessage = ResponseMessage;\n\nvar BlockchainMessage = function BlockchainMessage(type, payload) {\n  return {\n    event: _constants.BLOCKCHAIN_EVENT,\n    type: type,\n    payload: payload\n  };\n};\n\nexports.BlockchainMessage = BlockchainMessage;","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\nvar css = '.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */';\nvar _default = css;\nexports[\"default\"] = _default;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","\"use strict\";\n\nvar _constants = require(\"../../constants\");"]}