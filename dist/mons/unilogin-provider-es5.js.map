{"version":3,"sources":["webpack:///node_modules/@unilogin/provider/dist/umd/index.js"],"names":["t","n","module","exports","Object","assign","e","r","arguments","length","o","prototype","hasOwnProperty","call","apply","Promise","i","s","u","next","a","done","value","then","label","sent","trys","ops","Symbol","iterator","TypeError","pop","push","error","ok","isError","isOk","path","expected","JSON","stringify","isNaN","test","c","f","setPrototypeOf","__proto__","Array","constructor","create","errors","l","p","d","sendMessage","handler","nextId","callbacks","handleMessage","h","handleRpc","send","getId","sendRpc","protocolId","id","isRequest","payload","handleRequest","handleResponse","response","getCallbackHandler","y","backendUrl","logoUrl","ulButtonId","disabledDialogs","b","reduce","v","pipe","g","_","subscribers","Set","get","set","forEach","subscribe","add","m","window","innerWidth","innerHeight","w","k","document","URL","split","slice","getElementsByTagName","getAttribute","O","entries","map","encodeURIComponent","toString","join","picker","network","sdkConfig","config","isReady","hasNotifications","isUniLogin","boundOpenDashboard","openDashboard","bind","getNotificationsIndicator","getElementById","applicationInfo","applicationName","title","logo","type","iframe","enablePicker","createElement","style","position","width","height","left","top","background","border","display","setAttribute","appendChild","bridge","contentWindow","postMessage","addEventListener","data","observeDomForUlButtons","MutationObserver","target","Element","querySelectorAll","HTMLButtonElement","initUlButton","observe","body","childList","subtree","method","setIframeVisibility","params","setNotificationsIndicatorVisibility","sendUpstream","upstream","sendAsync","getInstance","instance","createPicker","Error","promisifyJsonRpcRequest","handleBatchRequest","all","waitUntilReady","isArray","enable","jsonRpc","result","reject","resolve","setDashboardVisibility","closeDashboard","Boolean","cursor","marginRight","padding","innerHTML","right"],"mappings":"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","file":"unilogin-provider-es5.js","sourcesContent":["!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(t=t||self).ULIFrameProvider=n()}(this,(function(){\"use strict\";var t=function(){return(t=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function n(t,n,e,r){return new(e||(e=Promise))((function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(s,a)}u((r=r.apply(t,n||[])).next())}))}function e(t,n){var e,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(t,s)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var r,o={error:function(t){return{error:t}},ok:function(t){return{ok:t}},isError:function(t){return Object.hasOwnProperty.call(t,\"error\")},isOk:function(t){return Object.hasOwnProperty.call(t,\"ok\")}},i=function(t){return function(n,e){return n===t?o.ok(t):o.error([{path:e,expected:\"exactly \"+JSON.stringify(t)}])}},s=/^-?\\d*(\\.\\d+)?$/,a=function(t,n){return function(t){return\"number\"==typeof t&&!isNaN(t)}(t)?o.ok(t):function(t){return\"string\"==typeof t&&\"\"!==t&&s.test(t)}(t)?o.ok(+t):o.error([{path:n,expected:\"number\"}])},u=function(t){return function(n,e){if(\"object\"!=typeof n||null===n)return o.error([{path:e,expected:\"object\"}]);var r={},i=[];for(var s in t)if(Object.hasOwnProperty.call(t,s)){var a=t[s](n[s],e+\".\"+s);o.isOk(a)?r[s]=a.ok:i.push.apply(i,a.error)}return i.length>0?o.error(i):o.ok(r)}},c=function(t){return function(n,e){return null==n?o.ok(void 0):t(n,e)}},f=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});!function(t){function n(e,r){var o=t.call(this,r||\"Cannot cast\")||this;return o.errors=e,Object.setPrototypeOf(o,n.prototype),o}f(n,t)}(TypeError);var l,p,d=function(){function t(t,n){this.sendMessage=t,this.handler=n,this.nextId=0,this.callbacks={}}return t.prototype.handleMessage=function(t){var n=function(t,n,e){var r=n(t,\"\");return o.isOk(r)?r.ok:e}(t,h,void 0);n&&this.handleRpc(n)},t.prototype.send=function(t,n){var e=this.getId();this.callbacks[e]=n,this.sendRpc({protocolId:\"UNIVERSAL_LOGIN\",id:e,isRequest:!0,payload:t})},t.prototype.getId=function(){return this.nextId++},t.prototype.handleRpc=function(t){t.isRequest?this.handleRequest(t):this.handleResponse(t)},t.prototype.handleResponse=function(t){var n,e,r=this.callbacks[t.id];delete this.callbacks[t.id],void 0!==t.error?null===(n=r)||void 0===n||n(t.error,void 0):null===(e=r)||void 0===e||e(null,t.response)},t.prototype.handleRequest=function(t){this.handler(t.payload,this.getCallbackHandler(t.id))},t.prototype.getCallbackHandler=function(t){var n=this;return function(e,r){e?n.sendRpc({protocolId:\"UNIVERSAL_LOGIN\",id:t,isRequest:!1,error:e}):n.sendRpc({protocolId:\"UNIVERSAL_LOGIN\",id:t,isRequest:!1,response:r})}},t.prototype.sendRpc=function(t){this.sendMessage(t)},t}(),h=(l=[u({protocolId:i(\"UNIVERSAL_LOGIN\"),id:a,isRequest:i(!0),payload:o.ok}),u({protocolId:i(\"UNIVERSAL_LOGIN\"),id:a,isRequest:i(!1),error:c(o.ok),response:c(o.ok)})],p=\"RpcMessage\",function(t,n){if(0===l.length)return o.ok(t);for(var e=0,r=l;e<r.length;e++){var i=(0,r[e])(t,n);if(o.isOk(i))return i}return o.error([{path:n,expected:p}])}),y={backendUrl:\"https://universal-provider-backend.netlify.com\",logoUrl:\"https://universalloginsdk.readthedocs.io/en/latest/_images/logo.png\",ulButtonId:\"unilogin-button\",disabledDialogs:[]};function b(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return t.reduce((function(t,n){return n(t)}),n)}}var v=function(){function t(){}return t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return b.apply(void 0,t)(this)},t}(),g=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_=function(t){function n(n){var e=t.call(this)||this;return e.subscribers=new Set,e.value=n,e}return g(n,t),n.prototype.get=function(){return this.value},n.prototype.set=function(t){this.value=t,this.subscribers.forEach((function(t){return t()}))},n.prototype.subscribe=function(t){var n=this;return this.subscribers.add(t),function(){return n.subscribers.delete(t)}},n}(v);(function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}})(),function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}}();(function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}})(),function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}}(),function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)}}();var m=function(){var t=window.innerWidth,n=window.innerHeight;return t<=512||n<=512?\"phone\":t<=1024?\"tablet\":\"laptop\"},w=function(){var t=k();if(!t)return null;var n=document.URL.split(\"#\")[0];return\"/\"===n[n.length-1]&&\"/\"===t[0]?n.slice(0,-1)+t:n+t},k=function(){for(var t=document.getElementsByTagName(\"link\"),n=0;n<t.length;n++)if(\"icon\"===t[n].getAttribute(\"rel\")||\"shortcut icon\"===t[n].getAttribute(\"rel\"))return t[n].getAttribute(\"href\")};function O(t,n,e,r,o){return t+\"?\"+function(t){return Object.entries(t).map((function(t){var n,e,r=function(t,n){var e=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,i=e.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return s}(t,2),o=r[0],i=r[1];return encodeURIComponent(o)+\"=\"+encodeURIComponent(null!=(e=null===(n=i)||void 0===n?void 0:n.toString())?e:\"\")})).join(\"&\")}({picker:n,network:o,sdkConfig:JSON.stringify(e),disabledDialogs:r})}return function(){function r(n){var e=this;this.config=n,this.isReady=new _(!1),this.hasNotifications=!1,this.isUniLogin=!0,this.boundOpenDashboard=this.openDashboard.bind(this),this.getNotificationsIndicator=function(){return document.getElementById(e.config.ulButtonId+\"-notifications\")};var r,o,i=t({applicationInfo:{applicationName:document.title,logo:w()||\"none\",type:m()}},n.sdkConfig);this.iframe=(r=O(n.backendUrl,n.enablePicker,i,n.disabledDialogs,n.network),o=document.createElement(\"iframe\"),Object.assign(o.style,{position:\"fixed\",width:\"100%\",height:\"100%\",left:\"0\",top:\"0\",background:\"none transparent\",border:\"none\",display:\"none\",\"z-index\":\"100000\"}),o.setAttribute(\"src\",r),document.getElementsByTagName(\"body\")[0].appendChild(o),o),this.bridge=new d((function(t){return e.iframe.contentWindow.postMessage(t,\"*\")}),this.handleRpc.bind(this)),window.addEventListener(\"message\",(function(t){return e.bridge.handleMessage(t.data)})),this.observeDomForUlButtons()}return r.prototype.observeDomForUlButtons=function(){var t=this;new MutationObserver((function(n){var e,r;try{for(var o=function(t){var n=\"function\"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}(n),i=o.next();!i.done;i=o.next()){var s=i.value;s.target instanceof Element&&s.target.querySelectorAll(\"button#\"+t.config.ulButtonId).forEach((function(n){n instanceof HTMLButtonElement&&t.initUlButton(n)}))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}})).observe(document.body,{childList:!0,subtree:!0})},r.prototype.handleRpc=function(t,n){switch(t.method){case\"ul_set_iframe_visibility\":this.setIframeVisibility(t.params[0]);break;case\"ul_ready\":this.isReady.set(!0);break;case\"ul_set_notification_indicator\":this.hasNotifications=t.params[0],this.setNotificationsIndicatorVisibility(this.hasNotifications);break;default:this.sendUpstream(t,n)}},r.prototype.setNotificationsIndicatorVisibility=function(t){var n=this.getNotificationsIndicator();n&&(n.style.display=t?\"block\":\"none\")},r.prototype.sendUpstream=function(t,n){var e=this.config.upstream;if(!e)throw new TypeError;e.sendAsync?e.sendAsync(t,n):e.send(t,n)},r.prototype.setIframeVisibility=function(t){this.iframe.style.display=t?\"unset\":\"none\"},r.getInstance=function(t){return r.instance||(r.instance=new r(t)),r.instance},r.create=function(n,e,o){return r.getInstance(t(t({enablePicker:!1,network:n.toString(),sdkConfig:e},y),o))},r.createPicker=function(n,e,o){return r.getInstance(t(t(t(t({enablePicker:!0},function(t){if(void 0===t)throw new Error(\"Either a provider or a network name must be passed as a first argument\");return\"string\"==typeof t?{network:t.toString()}:{upstream:t}}(n)),{sdkConfig:e}),y),o))},r.prototype.promisifyJsonRpcRequest=function(t){return n(this,void 0,void 0,(function(){var n=this;return e(this,(function(e){return[2,new Promise((function(e,r){return n.send(t,(function(t,n){return t?r(t):e(n)}))}))]}))}))},r.prototype.handleBatchRequest=function(t,r){return n(this,void 0,void 0,(function(){var n,o,i=this;return e(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return i.promisifyJsonRpcRequest(t)})))];case 1:return n=e.sent(),r(void 0,n),[3,3];case 2:return o=e.sent(),r(o,void 0),[3,3];case 3:return[2]}}))}))},r.prototype.send=function(t,r){return n(this,void 0,void 0,(function(){return e(this,(function(n){switch(n.label){case 0:return[4,this.waitUntilReady()];case 1:return n.sent(),Array.isArray(t)?this.handleBatchRequest(t,r):this.bridge.send(t,r),[2]}}))}))},r.prototype.sendAsync=function(t,r){return n(this,void 0,void 0,(function(){return e(this,(function(n){switch(n.label){case 0:return[4,this.send(t,r)];case 1:return n.sent(),[2]}}))}))},r.prototype.enable=function(){return n(this,void 0,void 0,(function(){var t,n,r;return e(this,(function(e){switch(e.label){case 0:return[4,this.promisifyJsonRpcRequest({id:1,jsonRpc:\"2.0\",method:\"eth_requestAccounts\"})];case 1:return t=e.sent(),n=t.result,(r=t.error)?[2,Promise.reject(r)]:[2,Promise.resolve(n)]}}))}))},r.prototype.setDashboardVisibility=function(t){this.send({method:\"ul_set_dashboard_visibility\",params:[t]},(function(){}))},r.prototype.openDashboard=function(){this.setDashboardVisibility(!0)},r.prototype.closeDashboard=function(){this.setDashboardVisibility(!1)},r.prototype.waitUntilReady=function(){return this.isReady.pipe((t=Boolean,function(n){return new Promise((function(e){return n.pipe((r=function(n){t(n)&&e(n)},function(t){return r(t.get()),t.subscribe((function(){return r(t.get())}))}));var r}))}));var t},r.prototype.initUlButton=function(t){Object.assign(t.style,{display:\"inline-block\",background:\"none\",border:\"none\",cursor:\"pointer\",position:\"relative\",width:\"60px\",height:\"60px\",marginRight:\"15px\",padding:\"0\"}),t.innerHTML='\\n      <img style=\"width: 100%; height: 100%;\" src=\"'+this.config.logoUrl+'\" alt=\"U\" >\\n      <div id=\"'+this.config.ulButtonId+'-notifications\"></div>\\n    ',Object.assign(this.getNotificationsIndicator().style,{display:this.hasNotifications?\"block\":\"none\",position:\"absolute\",top:\"0px\",right:\"-11px\",width:\"15px\",height:\"15px\",background:\"#0FB989\",\"box-shadow\":\"0px 5px 4px rgba(0, 0, 0, 0.14516)\",\"border-radius\":\"50%\"}),t.addEventListener(\"click\",this.boundOpenDashboard)},r}()}));\n"]}